if (self.CavalryLogger) { CavalryLogger.start_js(["DgTjb"]); }

__d("P2PReliabilityTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:P2PReliabilityLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:P2PReliabilityLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:P2PReliabilityLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAppBuildNumber=function(a){this.$1.app_build_number=a;return this};c.setAppID=function(a){this.$1.app_id=a;return this};c.setAppVersion=function(a){this.$1.app_version=a;return this};c.setCallID=function(a){this.$1.call_id=a;return this};c.setClientStackInfo=function(a){this.$1.client_stack_info=a;return this};c.setDeviceID=function(a){this.$1.device_id=a;return this};c.setEventName=function(a){this.$1.event_name=a;return this};c.setExtra=function(a){this.$1.extra=a;return this};c.setMsgID=function(a){this.$1.msg_id=a;return this};c.setMsgType=function(a){this.$1.msg_type=a;return this};c.setProcessingTimeSinceRecvOnWww=function(a){this.$1.processing_time_since_recv_on_www=a;return this};c.setRawTime=function(a){this.$1.raw_time=a;return this};c.setReceiverID=function(a){this.$1.receiver_id=a;return this};c.setResultCode=function(a){this.$1.result_code=a;return this};c.setSenderID=function(a){this.$1.sender_id=a;return this};c.setServiceName=function(a){this.$1.service_name=a;return this};c.setUserCountry=function(a){this.$1.user_country=a;return this};return a}();c={app_build_number:!0,app_id:!0,app_version:!0,call_id:!0,client_stack_info:!0,device_id:!0,event_name:!0,extra:!0,msg_id:!0,msg_type:!0,processing_time_since_recv_on_www:!0,raw_time:!0,receiver_id:!0,result_code:!0,sender_id:!0,service_name:!0,user_country:!0};e.exports=a}),null);
__d("RTCWebUserActionsDebugTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:RTCWebUserActionsDebugLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:RTCWebUserActionsDebugLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:RTCWebUserActionsDebugLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setCallID=function(a){this.$1.call_id=a;return this};c.setCallTrigger=function(a){this.$1.call_trigger=a;return this};c.setCallType=function(a){this.$1.call_type=a;return this};c.setCheckpoint=function(a){this.$1.checkpoint=a;return this};c.setClientTime=function(a){this.$1.client_time=a;return this};c.setCodebaseVersion=function(a){this.$1.codebase_version=a;return this};c.setComponent=function(a){this.$1.component=a;return this};c.setConferenceName=function(a){this.$1.conference_name=a;return this};c.setConferenceState=function(a){this.$1.conference_state=a;return this};c.setDeviceID=function(a){this.$1.device_id=a;return this};c.setErrorDomain=function(a){this.$1.error_domain=a;return this};c.setErrorType=function(a){this.$1.error_type=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setEventTimeElapsed=function(a){this.$1.event_time_elapsed=a;return this};c.setIsCaller=function(a){this.$1.is_caller=a;return this};c.setMediaType=function(a){this.$1.media_type=a;return this};c.setPage=function(a){this.$1.page=a;return this};c.setPeerID=function(a){this.$1.peer_id=a;return this};c.setServerInfoData=function(a){this.$1.server_info_data=a;return this};c.setSurface=function(a){this.$1.surface=a;return this};return a}();c={call_id:!0,call_trigger:!0,call_type:!0,checkpoint:!0,client_time:!0,codebase_version:!0,component:!0,conference_name:!0,conference_state:!0,device_id:!0,error_domain:!0,error_type:!0,event:!0,event_time_elapsed:!0,is_caller:!0,media_type:!0,page:!0,peer_id:!0,server_info_data:!0,surface:!0};e.exports=a}),null);
__d("CometTrialParticipationChangeMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],b=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"CometTrialParticipationChangeResponsePayload",kind:"LinkedField",name:"comet_trial_participation_change",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_mutation_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"success",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometTrialParticipationChangeMutation",selections:b,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometTrialParticipationChangeMutation",selections:b},params:{id:"2317726921658975",metadata:{},name:"CometTrialParticipationChangeMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("useProfileCometSwitcherCleanUpOnSwap_query.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useProfileCometSwitcherCleanUpOnSwap_query",selections:[{alias:null,args:null,kind:"ScalarField",name:"logout_whitelist",storageKey:null}],type:"Query",abstractKey:null};e.exports=a}),null);
__d("MWChatFriendsDataSourceQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"limit"},b={defaultValue:null,kind:"LocalArgument",name:"order_by"},c={defaultValue:null,kind:"LocalArgument",name:"scale"},d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},e=[d],f=[{kind:"Variable",name:"first",variableName:"limit"},{kind:"Variable",name:"orderby",variableName:"order_by"},{kind:"Literal",name:"without_memorialized",value:!0}],g={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},h={alias:null,args:[{kind:"Literal",name:"height",value:36},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:36}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},i=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d];return{fragment:{argumentDefinitions:[a,b,c],kind:"Fragment",metadata:null,name:"MWChatFriendsDataSourceQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:e,storageKey:null},{alias:null,args:f,concreteType:"MessengerContactsConnection",kind:"LinkedField",name:"messenger_contacts",plural:!1,selections:[{alias:null,args:null,concreteType:"Contact",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_profile",plural:!1,selections:e,storageKey:null},g,h],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,c,b],kind:"Operation",name:"MWChatFriendsDataSourceQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:i,storageKey:null},{alias:null,args:f,concreteType:"MessengerContactsConnection",kind:"LinkedField",name:"messenger_contacts",plural:!1,selections:[{alias:null,args:null,concreteType:"Contact",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_profile",plural:!1,selections:i,storageKey:null},g,h,d],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"2893423234087979",metadata:{},name:"MWChatFriendsDataSourceQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatKeywordDataSourceQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"query"},b={defaultValue:null,kind:"LocalArgument",name:"scale"},c={defaultValue:null,kind:"LocalArgument",name:"supportedTypes"},d=[{kind:"Variable",name:"query",variableName:"query"}],e=[{kind:"Variable",name:"supported_types",variableName:"supportedTypes"}],f={alias:null,args:null,kind:"ScalarField",name:"display_name",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"subtext",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},j={kind:"Literal",name:"height",value:36},k={kind:"Literal",name:"width",value:36},l=[j,{kind:"Variable",name:"scale",variableName:"scale"},k],m=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],n={alias:null,args:l,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:m,storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"is_on_viewer_contact_list",storageKey:null},p=[i,n,{alias:null,args:null,concreteType:"Contact",kind:"LinkedField",name:"messenger_contact",plural:!1,selections:[o],storageKey:null}],q={alias:null,args:null,concreteType:"MessageThreadKey",kind:"LinkedField",name:"thread_key",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null}],storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"thread_name",storageKey:null};j={alias:null,args:[j,k],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:m,storageKey:"image(height:36,width:36)"};k=[{kind:"Literal",name:"first",value:10}];var s={alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},t={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],type:"User",abstractKey:null};l={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"verification_status",storageKey:null},{alias:"page_id",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:"page_profile_picture",args:l,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:m,storageKey:null}],type:"Page",abstractKey:null};m=[n,{alias:null,args:null,concreteType:"Contact",kind:"LinkedField",name:"messenger_contact",plural:!1,selections:[o,i],storageKey:null}];return{fragment:{argumentDefinitions:[a,b,c],kind:"Fragment",metadata:null,name:"MWChatKeywordDataSourceQuery",selections:[{alias:null,args:d,concreteType:"MessengerSearchRootQuery",kind:"LinkedField",name:"messenger_search",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerSearchRootQueryResultModulesConnection",kind:"LinkedField",name:"result_modules",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:e,concreteType:"MessengerSearchResultsConnection",kind:"LinkedField",name:"search_results",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerSearchResultsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[f,g,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[h,{kind:"InlineFragment",selections:p,type:"User",abstractKey:null},{kind:"InlineFragment",selections:[q,r,j,{alias:null,args:k,concreteType:"MessagingParticipantsOfThreadConnection",kind:"LinkedField",name:"other_participants",plural:!1,selections:[s,{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[i,n,t],storageKey:null}],storageKey:null}],storageKey:"other_participants(first:10)"}],type:"MessengerViewerGroupThread",abstractKey:null},l,{kind:"InlineFragment",selections:p,type:"InstagramMessagingUser",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,c,b],kind:"Operation",name:"MWChatKeywordDataSourceQuery",selections:[{alias:null,args:d,concreteType:"MessengerSearchRootQuery",kind:"LinkedField",name:"messenger_search",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerSearchRootQueryResultModulesConnection",kind:"LinkedField",name:"result_modules",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[h,{alias:null,args:e,concreteType:"MessengerSearchResultsConnection",kind:"LinkedField",name:"search_results",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerSearchResultsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[f,g,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[h,i,{kind:"InlineFragment",selections:m,type:"User",abstractKey:null},{kind:"InlineFragment",selections:[q,r,j,{alias:null,args:k,concreteType:"MessagingParticipantsOfThreadConnection",kind:"LinkedField",name:"other_participants",plural:!1,selections:[s,{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[h,i,n,t],storageKey:null},i],storageKey:null}],storageKey:"other_participants(first:10)"}],type:"MessengerViewerGroupThread",abstractKey:null},l,{kind:"InlineFragment",selections:m,type:"InstagramMessagingUser",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"2659472977484986",metadata:{},name:"MWChatKeywordDataSourceQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatKeywordDataSourceQuery_thread.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"Literal",name:"height",value:36},b={kind:"Literal",name:"width",value:36},c=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}];return{argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"MWChatKeywordDataSourceQuery_thread",selections:[{alias:null,args:null,concreteType:"MessageThreadKey",kind:"LinkedField",name:"thread_key",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thread_name",storageKey:null},{alias:null,args:[a,b],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:c,storageKey:"image(height:36,width:36)"},{alias:null,args:[{kind:"Literal",name:"first",value:10}],concreteType:"MessagingParticipantsOfThreadConnection",kind:"LinkedField",name:"other_participants",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:[a,{kind:"Variable",name:"scale",variableName:"scale"},b],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:c,storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:"other_participants(first:10)"}],type:"MessengerViewerGroupThread",abstractKey:null}}();e.exports=a}),null);
__d("CometTopNavListDropdown.react",["ix","fbt","CometPopover.react","CometRow.react","CometRowItem.react","Locale","React","TetraCircleButton.react","TetraText.react","fbicon","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i,j=b("React"),k={card:{display:"j83agx80",flexDirection:"cbu4d94t",maxWidth:"h77mwsce",minHeight:"dp1hu0rb"},cardMaxHeight:{maxHeight:"h58bhtfz"},cardWiderWidth:{width:"a98sk6w7"},cardWidth:{width:"o36gj0jk"},heading:{alignItems:"bp9cbjyn",display:"j83agx80",flexShrink:"pfnyh3mw",justifyContent:"i1fnvgqd",minHeight:"jklb3kyz",paddingTop:"pybr56ya",paddingEnd:"hv4rvrfc",paddingBottom:"e5nlhep0",paddingStart:"dati1w0a"},root:{marginEnd:"oi9244e8",marginTop:"knvmm38d"}};function a(a){var c=a.children,d=a.label;a=a.name;return j.jsx("div",{className:(i||(i=b("stylex")))(k.root),children:j.jsx(b("CometPopover.react"),{label:d,popoverName:a,children:c})})}a.Card=function(a){var c=a.children,d=a.testid;d=a.useFullWidth;d=d===void 0?!1:d;a=a.useMaxHeight;return j.jsx("div",{className:(i||(i=b("stylex")))(k.card,d===!1?k.cardWidth:null,a===!0?k.cardMaxHeight:null),"data-testid":void 0,children:c})};a.Title=function(a){var c=a.actions;c=c===void 0?[]:c;var d=a.onReturn;a=a.title;return j.jsxs("div",{className:(i||(i=b("stylex")))(k.heading),children:[j.jsxs(b("CometRow.react"),{paddingHorizontal:0,paddingTop:0,spacingHorizontal:8,children:[d!=null?j.jsx(b("CometRowItem.react"),{children:j.jsx(b("TetraCircleButton.react"),{icon:b("Locale").isRTL()?b("fbicon")._(g("514454"),20):b("fbicon")._(g("512647"),20),label:h._("Back"),onPress:d,size:32,type:"deemphasized"})}):null,j.jsx(b("CometRowItem.react"),{verticalAlign:"center",children:j.jsx(b("TetraText.react"),{isSemanticHeading:!0,type:"headlineEmphasized1",children:a})})]}),j.jsx(b("CometRow.react"),{paddingHorizontal:0,paddingTop:0,spacingHorizontal:8,children:c.map(function(a,c){return j.jsx(b("CometRowItem.react"),{children:a},c)})})]})};a.styles={cardWiderWidth:k.cardWiderWidth,cardWidth:k.cardWidth}}),null);
__d("CometTrialParticipationChangeMutation",["CometRelay","CometTrialParticipationChangeMutation.graphql"],(function(a,b,c,d,e,f){"use strict";f.commit=a;var g,h=g!==void 0?g:g=b("CometTrialParticipationChangeMutation.graphql");function a(a,c,d,e){return b("CometRelay").commitMutation(a,{mutation:h,onCompleted:d,onError:e,variables:{input:c}})}}),null);
__d("createCometTriggerOptOutWithSurveyHook",["Promise","CometRelay","JSResourceForInteraction","React","promiseDone","recoverableViolation","requireDeferred","useCometLazyDialog"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React"),h=b("JSResourceForInteraction")("CometOptOutSurveyDialog.react",{"class":"responsive",name:"Comet OptOut Survey Dialog",oncall:"comet_ui"}).__setRef("createCometTriggerOptOutWithSurveyHook"),i=b("requireDeferred")("CometDismissFBNuxMutation");function j(a,c){return new(b("Promise"))(function(d){i.onReady(function(e){e.commit(a,c,d,function(a){b("recoverableViolation")("Comet opt out survey failed to dismiss nux: "+a.message,"comet_infra"),d()})})})}function a(a){var c=a.onOptOut,d=a.onOptOutCompleted,e=a.onOptOutError;return function(){var a=b("CometRelay").useRelayEnvironment(),f=b("useCometLazyDialog")(h),i=f[0];return g.useCallback(function(){var f=j(a,7070)["finally"](function(){return c(a)});i({},function(){b("promiseDone")(f,d,e)})},[a,i])}}}),null);
__d("useCometTriggerOptOut",["Promise","CometTrialParticipationChangeMutation","createCometTriggerOptOutWithSurveyHook","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";a=b("createCometTriggerOptOutWithSurveyHook")({onOptOut:function(a){return new(b("Promise"))(function(c,d){b("CometTrialParticipationChangeMutation").commit(a,{change_type:"OPT_OUT",source:"SETTINGS_MENU"},function(a){((a=a.comet_trial_participation_change)==null?void 0:a.success)===!0?c():d("result.success is not true")},d)})},onOptOutCompleted:function(){window.location.reload()},onOptOutError:function(a){b("recoverableViolation")("Error when trying to opt out of Comet: "+a.toString(),"comet_ui")}});e.exports=a}),null);
__d("CometControlledUserBlockingDialog.react",["BaseModal.react","CometCardedDialog.react","CometCardedDialogLoadingState.react","CometPlaceholder.react","React"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c=a.children,d=a.disableClosingWithMask,e=a.onDismiss;e=e===void 0?function(){}:e;var f=a.title,h=a.withCloseButton;a=a.size;a=a===void 0?"small":a;return g.jsx(b("BaseModal.react"),{blockKeyCommands:!0,stackingBehavior:"above-everything",children:g.jsx(b("CometPlaceholder.react"),{fallback:g.jsx(b("CometCardedDialogLoadingState.react"),{onClose:e}),children:g.jsx(b("CometCardedDialog.react"),{disableClosingWithMask:d,onClose:e,size:a,title:f,withCloseButton:h,children:c})})})}}),null);
__d("CometEntityHeaderFacepileProfileIcon.react",["BaseImage.react","React","stylex"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React"),i={image:{borderTopColor:"hd23q7wb",borderEndColor:"qz5c9aoe",borderBottomColor:"a1yigdvo",borderStartColor:"mlvimuxf",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv",borderTopStyle:"goun2846",borderEndStyle:"ccm00jje",borderBottomStyle:"s44p3ltw",borderStartStyle:"mk2mc5f4",borderTopWidth:"qxh1up0x",borderEndWidth:"qtyiw8t4",borderBottomWidth:"tpcyxxvw",borderStartWidth:"k0bpgpbk",display:"a8c37x1j"},root:{display:"q9uorilb"}};function a(a){var c=a.alt,d=a.size;d=d===void 0?32:d;a=a.src;return h.jsx("div",{className:(g||(g=b("stylex")))(i.root),children:h.jsx(b("BaseImage.react"),{alt:c,height:d,src:a,width:d,xstyle:i.image})})}}),null);
__d("CometEntityHeaderFacepile.react",["fbt","CometEntityHeaderFacepileProfileIcon.react","CometLink.react","CometTooltip.react","React","stylex"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h=b("React"),i=8;function a(a){a=a.profiles;var c=a;a.length>i&&(c=a.slice(0,i));a=c.map(function(a,c){var d=a.name,e=a.pictureURI,f=a.profileURL;a=a.size;return h.jsx("div",{className:"q9uorilb"+(c>0?" lq239pai":""),style:{zIndex:c},children:h.jsx(b("CometTooltip.react"),{align:"middle",position:"below",tooltip:g._("{user's name}",[g._param("user's name",d)]),children:h.jsx(b("CometLink.react"),{href:f,children:h.jsx(b("CometEntityHeaderFacepileProfileIcon.react"),{alt:d,size:a,src:e})},c)})},c)});return h.jsx("div",{children:a})}}),null);
__d("ServiceWorkerLoginAndLogout",["ClientServiceWorkerMessage"],(function(a,b,c,d,e,f){function g(a){new(b("ClientServiceWorkerMessage"))(a,null).sendViaController()}a={login:function(){g("login")},logout:function(){g("logout")}};e.exports=a}),null);
__d("useProfileCometSwitcherCleanUpOnSwap",["Banzai","CometRelay","React","ServiceWorkerLoginAndLogout","WebStorageMonster","useProfileCometSwitcherCleanUpOnSwap_query.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React");function a(a){a=b("CometRelay").useFragment(g!==void 0?g:g=b("useProfileCometSwitcherCleanUpOnSwap_query.graphql"),a);var c=a.logout_whitelist;return h.useCallback(function(){b("WebStorageMonster").cleanOnLogout(c),b("ServiceWorkerLoginAndLogout").logout(),b("Banzai").flush()},[c])}}),null);
__d("MWChatProfile.re",["MWChatProfile.bs"],(function(a,b,c,d,e,f){(function(a){return null});a=b("MWChatProfile.bs").make;f.make=a}),null);
__d("MWJewelSearchTypeaheadViewItem.react",["CometPageVerificationIcon.react","CometSearchTypeaheadBaseViewItem.react","MWChatFacepile.re","MWChatProfile.re","React","TetraText.react","stylex"],(function(a,b,c,d,e,f){"use strict";var g=b("MWChatFacepile.re").make,h=b("MWChatProfile.re").make,i=b("React");function a(a){var c=a.entry;a.queryString;a=babelHelpers.objectWithoutPropertiesLoose(a,["entry","queryString"]);var d=c.getRawData(),e=d.imageUrl,f=d.secondaryImageUrl;d=d.verificationStatus;f=f!==""?i.jsx(g,{firstParticipantURI:e,secondParticipantURI:f,size:36}):i.jsx(h,{size:36,src:e});return i.jsx(b("CometSearchTypeaheadBaseViewItem.react"),babelHelpers["extends"]({},a,{entry:c,itemStartContent:f,children:i.jsxs(b("TetraText.react"),{numberOfLines:1,type:"body3",children:[c.getLabel(),d!=null?i.jsx("span",{className:"scb9dxdr",children:i.jsx(b("CometPageVerificationIcon.react"),{size:"small",verificationBadge:d})}):null]})}))}e.exports=a}),null);
__d("MWChatSearchResultType",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({GROUP:"group",PAGE:"page",USER:"user"});e.exports=a}),null);
__d("MWChatFriendsDataSource.query",["CometRelay","MWChatSearchResultType","MWChatSearchTypeaheadDataEntry","compactArray","MWChatFriendsDataSourceQuery.graphql"],(function(a,b,c,d,e,f){"use strict";f.normalize=a;var g;c=g!==void 0?g:g=b("MWChatFriendsDataSourceQuery.graphql");f.query=c;function a(a,c){c=a==null?void 0:(c=a.viewer)==null?void 0:(c=c.messenger_contacts)==null?void 0:c.nodes;if(!c)return[];var d=a==null?void 0:(a=a.viewer)==null?void 0:(a=a.actor)==null?void 0:a.id;return b("compactArray")(c.map(function(a){var c;c=a==null?void 0:(c=a.messaging_profile)==null?void 0:c.id;var e=a==null?void 0:a.name;a=a==null?void 0:(a=a.profile_picture)==null?void 0:a.uri;return c===d||c==null||e==null||a==null?null:new(b("MWChatSearchTypeaheadDataEntry"))({displayName:e,id:c,imageUrl:a,isContact:!0,resultType:b("MWChatSearchResultType").USER,secondaryImageUrl:"",subtext:""})}))}}),null);
__d("mwChatFriendsQueryVariablesBuilder",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){return function(b){return babelHelpers["extends"]({},a)}}}),null);
__d("MWChatFriendsDataSource",["CometSearchTypeaheadBaseDataProvider","CometSearchTypeaheadBaseDataProviderQueryVariablesBuilder","CometSearchTypeaheadBaseNetworkCacheDataSource","CometSearchTypeaheadBaseQueryDataCacheProvider","MWChatFriendsDataSource.query","WebPixelRatio","gkx","mwChatFriendsQueryVariablesBuilder"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){var c=a.limit;a=a.relayEnvironment;c=new(b("CometSearchTypeaheadBaseDataProviderQueryVariablesBuilder"))(b("mwChatFriendsQueryVariablesBuilder")).setDefaultVariables({limit:c,order_by:b("gkx")("1217157")?["PHAT"]:["communication"],scale:b("WebPixelRatio").get()});var d=new(b("CometSearchTypeaheadBaseQueryDataCacheProvider"))();c=new(b("CometSearchTypeaheadBaseDataProvider"))({query:b("MWChatFriendsDataSource.query").query,queryVariablesBuilder:c,relayEnvironment:a});this.$1=new(b("CometSearchTypeaheadBaseNetworkCacheDataSource"))(c,d,{normalizeFunc:b("MWChatFriendsDataSource.query").normalize})}var c=a.prototype;c.fetchCache=function(a){return this.$1.fetchCache(a)};c.fetchNetwork=function(a){return this.$1.fetchNetwork(a)};return a}();e.exports=a}),null);
__d("mwChatSearchDataUtils",[],(function(a,b,c,d,e,f){"use strict";f.interleaveArrays=a;function a(a,b,c,d,e){d===void 0&&(d=1);e===void 0&&(e=1);var f=0,g=0,h=[],i=!0,j=0;while(f<a.length||g<b.length){if(f+g>=c)break;f===a.length&&(i=!1,j=0);g===b.length&&(i=!0,j=0);f<a.length&&i?(h.push(a[f]),f+=1,j+=1,j===d&&(j=0,i=!1)):g<b.length&&!i&&(h.push(b[g]),g+=1,j+=1,j===e&&(j=0,i=!0))}return h}}),null);
__d("MWChatKeywordDataSource.query",["fbt","CometRelay","MWChatSearchResultType","MWChatSearchTypeaheadDataEntry","intlList","mwChatSearchDataUtils","MWChatKeywordDataSourceQuery.graphql","MWChatKeywordDataSourceQuery_thread.graphql"],(function(a,b,c,d,e,f,g){"use strict";f.normalize=a;f.blendResultTypes=l;f.getTitleSubtextAndImageFromGroup=m;f.getParticipantTextFromGroup=n;var h,i,j=2,k=g._("Facebook User");c=h!==void 0?h:h=b("MWChatKeywordDataSourceQuery.graphql");f.query=c;i!==void 0?i:i=b("MWChatKeywordDataSourceQuery_thread.graphql");function a(a,c){a=a==null?void 0:(a=a.messenger_search)==null?void 0:(a=a.result_modules)==null?void 0:a.nodes;if(!a)return[];var d=[],e=[],f=[],g=[];a=((a=(a=a[0].search_results)==null?void 0:a.edges)!=null?a:[]).filter(Boolean);a.map(function(a){var h,i,j=a.node,k=a.subtext;if(!j)return;switch(j.__typename){case"User":case"InstagramMessagingUser":h=new(b("MWChatSearchTypeaheadDataEntry"))({displayName:(h=a.display_name)!=null?h:"",id:(h=j.id)!=null?h:"",imageUrl:(h=(h=j.profile_picture)==null?void 0:h.uri)!=null?h:"",isContact:(h=j==null?void 0:(h=j.messenger_contact)==null?void 0:h.is_on_viewer_contact_list)!=null?h:!1,resultType:b("MWChatSearchResultType").USER,secondaryImageUrl:"",subtext:(h=k)!=null?h:""}).setMetaData({query:c.query});Boolean((i=j.messenger_contact)==null?void 0:i.is_on_viewer_contact_list)?d.push(h):e.push(h);break;case"MessengerViewerGroupThread":i=m(a);if(!i)return null;g.push(new(b("MWChatSearchTypeaheadDataEntry"))({displayName:i.title,id:(h=(h=j.thread_key)==null?void 0:h.thread_fbid)!=null?h:"",imageUrl:i.image_uri,isContact:!1,resultType:b("MWChatSearchResultType").GROUP,secondaryImageUrl:(h=i.secondary_image_uri)!=null?h:"",subtext:i.subtext}).setMetaData({query:c.query}));break;case"Page":f.push(new(b("MWChatSearchTypeaheadDataEntry"))({displayName:(h=a.display_name)!=null?h:"",id:(i=j.page_id)!=null?i:"",imageUrl:(h=(a=j.page_profile_picture)==null?void 0:a.uri)!=null?h:"",isContact:!1,resultType:b("MWChatSearchResultType").PAGE,secondaryImageUrl:"",subtext:(i=k)!=null?i:"",verificationStatus:j.verification_status}).setMetaData({query:c.query}));break;default:break}});return l(d,e,g,f)}function l(a,c,d,e){a=b("mwChatSearchDataUtils").interleaveArrays(a,d,a.length+d.length,3,1);return[].concat(a,e,c)}function m(a){var b,c=a.node;if(!c||c.__typename!=="MessengerViewerGroupThread")return;b=(b=(b=c.image)==null?void 0:b.uri)!=null?b:"";var d=null,e=c.other_participants;if(b.length===0){var f=e?e.nodes.slice(0,2):[];f=f.map(function(a){return(a=(a=a.messaging_actor)==null?void 0:(a=a.profile_picture)==null?void 0:a.uri)!=null?a:""});f.length>1&&(d=f[1]);b=f[0]}f=(f=c.thread_name)!=null?f:null;var g=0;e=e?e.nodes.map(function(a){a=(a=a.messaging_actor)==null?void 0:a.name;if(a==null||a===""){g++;return null}return a}).filter(Boolean).concat(Array(g).fill(k)):[];c=(c=c.other_participants)==null?void 0:c.count;e=n(e,c,2);e=e!=null?e.toString():"";if(f==null){f=(c=e)!=null?c:"";a=(c=a.subtext)!=null?c:""}else a=e;return{image_uri:b,secondary_image_uri:d,subtext:a,title:f}}function n(a,c,d){d===void 0&&(d=j);if(!a)return null;if(c==null)return null;a=a.slice(0,d);d=c-a.length;return d<1?b("intlList")(a):g._("{name of the first n participants} and {number of other participants} more",[g._param("name of the first n participants",b("intlList")(a,b("intlList").CONJUNCTIONS.NONE)),g._param("number of other participants",d)])}}),null);
__d("mwChatKeywordQueryVariablesBuilder",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){return function(b){b=b.query;return babelHelpers["extends"]({},a,{query:b})}}}),null);
__d("MWChatKeywordDataSource",["CometSearchTypeaheadBaseDataProvider","CometSearchTypeaheadBaseDataProviderQueryVariablesBuilder","CometSearchTypeaheadBaseNetworkCacheDataSource","CometSearchTypeaheadBaseQueryDataCacheProvider","MWChatKeywordDataSource.query","WebPixelRatio","mwChatKeywordQueryVariablesBuilder"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){var c=a.limit,d=a.relayEnvironment;a=a.supportedTypes;a=new(b("CometSearchTypeaheadBaseDataProviderQueryVariablesBuilder"))(b("mwChatKeywordQueryVariablesBuilder")).setDefaultVariables({query:"",scale:b("WebPixelRatio").get(),supportedTypes:a!=null?a.map(function(a){return{limit:c,result_type:a}}):[{limit:c,result_type:"USER"},{limit:c,result_type:"GROUP"},{limit:c,result_type:"PAGE"}]});var e=new(b("CometSearchTypeaheadBaseQueryDataCacheProvider"))();a=new(b("CometSearchTypeaheadBaseDataProvider"))({query:b("MWChatKeywordDataSource.query").query,queryVariablesBuilder:a,relayEnvironment:d});this.$1=new(b("CometSearchTypeaheadBaseNetworkCacheDataSource"))(a,e,{normalizeFunc:b("MWChatKeywordDataSource.query").normalize})}var c=a.prototype;c.fetchCache=function(a){return this.$1.fetchCache(a)};c.fetchNetwork=function(a){return this.$1.fetchNetwork(a)};return a}();e.exports=a}),null);
__d("mwChatSearchPayloadDecoratorRemoveDuplicates",["MWChatSearchResultType"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){return function(c){var d=c.entries;c=babelHelpers.objectWithoutPropertiesLoose(c,["entries"]);var e=a.some(function(a){return a.getResultType()===b("MWChatSearchResultType").USER});d=d.filter(function(c){return e&&c.getResultType()!==b("MWChatSearchResultType").USER?!1:!a.some(function(a){return a.getKey()===c.getKey()})});return babelHelpers["extends"]({entries:d},c)}}}),null);
__d("mwChatSearchPayloadDecoratorRemoveExcluded",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){return function(b){var c=b.entries;b=babelHelpers.objectWithoutPropertiesLoose(b,["entries"]);return babelHelpers["extends"]({entries:c.filter(function(b){return!a.includes(b.getKey())})},b)}}}),null);
__d("MWChatSearchTypeaheadDataSource",["MWChatFriendsDataSource","MWChatKeywordDataSource","mwChatSearchPayloadDecoratorRemoveDuplicates","mwChatSearchPayloadDecoratorRemoveExcluded"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){var c=a.excludedIDs;c=c===void 0?[]:c;var d=a.limit,e=a.relayEnvironment,f=a.suggestionsLimit;a=a.supportedTypes;this.$3=[];this.$4=[];this.$1=new(b("MWChatFriendsDataSource"))({limit:(f=f)!=null?f:d,relayEnvironment:e});this.$2=new(b("MWChatKeywordDataSource"))({limit:d,relayEnvironment:e,supportedTypes:a});this.$4=c}var c=a.prototype;c.fetchCache=function(a){var c=a.query,d=b("mwChatSearchPayloadDecoratorRemoveDuplicates")(this.$3),e=b("mwChatSearchPayloadDecoratorRemoveExcluded")(this.$4);if(c.length>0){c=this.$2.fetchCache(a);return e(d(c))}c=this.$1.fetchCache(a);return e(d(c))};c.fetchNetwork=function(a){var c=a.query,d=b("mwChatSearchPayloadDecoratorRemoveDuplicates")(this.$3),e=b("mwChatSearchPayloadDecoratorRemoveExcluded")(this.$4);return c.length===0?this.$1.fetchNetwork(a).then(function(a){return e(d(a))}):this.$2.fetchNetwork(a).then(function(a){return e(d(a))})};c.setTokens=function(a){this.$3=a};return a}();e.exports=a}),null);
__d("RTWebCometCallDialog.react",["CometControlledUserBlockingDialog.react","React","TetraButtonGroup.react","TetraText.react","stylex"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c=a.acceptIcon,d=a.acceptLabel,e=a.acceptTestid,f=a.body,h=a.declineLabel;h=h===void 0?null:h;var i=a.onClose;a=a.title;a=a===void 0?null:a;var j=function(){i(!0)},k=function(){i(!1)};return g.jsxs(b("CometControlledUserBlockingDialog.react"),{disableClosingWithMask:!0,onDismiss:k,withCloseButton:!0,children:[a!=null?g.jsx("div",{className:"dati1w0a jbae33se hv4rvrfc bjjx79mm",children:g.jsx(b("TetraText.react"),{numberOfLines:1,type:"headlineEmphasized2",children:a})}):null,g.jsx("div",{className:"dati1w0a f10w8fjw hv4rvrfc pybr56ya taijpn5t cbu4d94t",children:f}),g.jsx("div",{className:"a8nywdso ihqw7lf3 dflh9lhu jb3vyjys",children:g.jsx(b("TetraButtonGroup.react"),{align:"end",direction:"backward",primary:{icon:c,label:d,onPress:j,testid:e,type:"primary"},secondary:h!==null?{label:h,onPress:k,reduceEmphasis:!0}:null})})]})}}),null);
__d("RTWebCometCallMessageLayout.react",["CometEntityHeaderFacepile.react","CometImageIcon.react","React","stylex"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React"),h="/images/chat/webrtc/no_profile_pic.png";function a(a){var c=a.caller,d=a.mainMessage,e=a.participants;a=a.subMessage;var f=i(e);e=e.length>1;return g.jsxs("div",{className:"jifvfom9 btwxx1t3 j83agx80",children:[g.jsx(b("CometImageIcon.react"),{size:60,src:j(c),style:"circle"}),g.jsxs("div",{className:"gu00c43d taijpn5t cbu4d94t j83agx80",children:[g.jsx("div",{className:"qzhwtbm6 n3ffmt46 a5q79mjw oo9gr5id",children:d}),g.jsxs("div",{className:"linoseic e9vueds3 m9osqain",children:[e?g.jsx(b("CometEntityHeaderFacepile.react"),{profiles:f}):null,g.jsx("div",{children:a})]})]})]})}function i(a){return a.length>0?a.map(function(a){return{name:a.name,pictureURI:j(a),profileURL:"#",size:32}}):[]}function j(a){return(a=a.profilePictureUrl)!=null?a:h}}),null);
__d("FBRTCSupport",["RTCConfig","UserAgent","gkx","qex"],(function(a,b,c,d,e,f){var g={isWebrtcSupported:function(){return b("UserAgent").isBrowser("Chrome >= 28")||b("UserAgent").isBrowser("Firefox >= 25")||b("UserAgent").isBrowser("Edge >= 15.15042")&&!b("gkx")("1154135")||b("UserAgent").isBrowser("Edge (Chromium Based) >= 74.1")||b("UserAgent").isBrowser("Opera >= 20")||g.isSupportedSafariVersion()&&b("gkx")("875718")||b("UserAgent").isBrowser("Oculus Browser >= 6")&&b("gkx")("1188589")||this.isUnifiedEnabledForCallsExperimentation()},isGroupCallWebtrcSupported:function(){return b("UserAgent").isBrowser("Chrome >= 28")||b("UserAgent").isBrowser("Edge (Chromium Based) >= 74.1")||b("UserAgent").isBrowser("Opera >= 20")||g.isSupportedSafariVersion()&&b("gkx")("875718")||this.isUnifiedEnabledForCallsExperimentation()},isUnifiedEnabledForCallsExperimentation:function(){return b("qex")._("1265876")||!1},isCollabSupported:function(){return g.isWebrtcSupported()&&(!!b("RTCConfig").CollabWhitelistedBrowserGK||b("UserAgent").isBrowser("Chrome >= "+65))},canUseUnifiedPlan:function(a){var c=b("UserAgent").isBrowser("Chrome >= 73")||b("UserAgent").isBrowser("Safari >= 12.2");if(a)return c;a=b("gkx")("919244")&&c;return a||b("UserAgent").isBrowser("Mobile Safari >= 12.1.1")},isSupportedSafariVersion:function(){return b("UserAgent").isBrowser("Safari >= 12.1")||b("UserAgent").isBrowser("Mobile Safari >= 12.1")},isMobileDevice:function(){return b("UserAgent").isPlatform("Android")||b("UserAgent").isPlatform("iOS")},isVideoFilterEffectSupported:function(){return!g.isMobileDevice()&&(b("UserAgent").isBrowser("Chrome >= 51")||b("UserAgent").isBrowser("Opera >= 36"))},videoEscalationByUnmuteWorkaround:function(){return b("UserAgent").isBrowser("Firefox < 60")||b("UserAgent").isBrowser("Edge")},isChromiumBased:function(){return b("UserAgent").isBrowser("Chrome")||b("UserAgent").isBrowser("Opera")||b("UserAgent").isBrowser("Edge (Chromium Based) >= 74.1")}};e.exports=g}),null);
__d("ScotchRTWebLoggingSharedInstance",["ChannelClientID"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=b("ChannelClientID").getID()}var c=a.prototype;c.getDeviceID=function(){return this.$1};return a}();e.exports=new a()}),null);
__d("RtcWebUserActionsFalcoEvent",["FalcoLoggerInternal","getSamplingPolicyConfig_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getSamplingPolicyConfig_DO_NOT_USE")("falco","rtc_web_user_actions");c=b("FalcoLoggerInternal").create(a);e.exports=c}),null);
__d("ScotchRTWebUserActionLogger",["CurrentUser","FBRTCConsoleLogger","FBRTCSupport","RTCWebUserActionsDebugTypedLogger","RtcWebUserActionsFalcoEvent","ScotchRTWebLoggingSharedInstance","immutable","performanceNow"],(function(a,b,c,d,e,f){"use strict";var g;a=function(){function a(){this.$1={callID:void 0,callType:void 0,mediaType:void 0,conferenceName:void 0,conferenceState:void 0},this.$2=b("immutable").Map(),this.$3=new Set(),this.$4=new Set(),this.$5=b("ScotchRTWebLoggingSharedInstance").getDeviceID(),this.$6=this.$7(),this.clearCache()}var c=a.prototype;c.clearCache=function(){this.$1={callID:void 0,callType:void 0,mediaType:void 0,conferenceName:void 0,conferenceState:void 0}};c.logImpression=function(a){this.logEvent(babelHelpers["extends"]({eventName:"impression"},a))};c.logPreCallImpression=function(a){this.clearCache(),this.logImpression(a)};c.logPreCallClick=function(a){this.clearCache(),this.logClick(a)};c.logClick=function(a){this.logEvent(babelHelpers["extends"]({eventName:"tap"},a))};c.logError=function(a){this.logEvent(babelHelpers["extends"]({eventName:"error"},a))};c.startTimer=function(a){var c=(g||(g=b("performanceNow")))();this.$2=this.$2.set(a,c);this.logCheckpoint({checkpoint:a+"_timerStart"});this.$8(a,{startTime:c})};c.logStopTimer=function(a){var b=a.checkpointName===void 0?a.timerName:a.checkpointName,c=a.event||{};c.timeElapsed=this.$9(a.timerName);this.logCheckpoint(babelHelpers["extends"]({checkpoint:b+"_timerEnd"},c));return c.timeElapsed};c.logCheckpoint=function(a,b){this.logEvent(babelHelpers["extends"]({eventName:"checkpoint"},a),b)};c.$10=function(a){return a===null||a===void 0};c.logEvent=function(a,b){var c=this.$1;c.callID=this.$10(a.callID)?c.callID:a.callID;c.callType=a.callType||c.callType;c.conferenceState=a.conferenceState||c.conferenceState;c.conferenceName=this.$10(a.conferenceName)?c.conferenceName:a.conferenceName;c.isCaller=a.isCaller==null?c.isCaller:a.isCaller;c.mediaType=a.mediaType||c.mediaType;this.$11(a,c);c=this.$12(a,c);(b==null?void 0:b.noConsole)!==!0&&this.$8(a.eventName,c)};c.$12=function(a,c){var d={call_type:c.callType,client_time:Date.now().toString(),device_id:this.$5,error_domain:a.errorDomain,error_type:a.errorType,component:a.component,conference_state:c.conferenceState,event:a.eventName,media_type:c.mediaType,page:this.$6,call_id:c.callID,conference_name:c.conferenceName,surface:a.surface,checkpoint:a.checkpoint,event_time_elapsed:(a=a.timeElapsed)==null?void 0:a.toString(),is_caller:c.isCaller,codebase_version:"Scotch"};b("RtcWebUserActionsFalcoEvent").log(function(){return d});return d};c.$11=function(a,c){var d=new(b("RTCWebUserActionsDebugTypedLogger"))();d.setCallType(c.callType).setDeviceID(this.$5).setClientTime(Date.now()).setErrorDomain(a.errorDomain).setErrorType(a.errorType).setComponent(a.component).setConferenceState(c.conferenceState).setEvent(a.eventName).setMediaType(c.mediaType).setPage(this.$6).setCallID(c.callID).setConferenceName(c.conferenceName).setSurface(a.surface).setCheckpoint(a.checkpoint).setEventTimeElapsed(a.timeElapsed).setIsCaller(c.isCaller).setCodebaseVersion("Scotch").log();return d.getData()};c.getCallType=function(a,b){b===void 0&&(b=!1);if(a===null||a===void 0)return null;if(a)return"mw";else if(b)return"escalated";else return"p2p"};c.getAudioVideoComponent=function(a){return a===null||a===void 0?null:a?"audio_button":"video_button"};c.getMediaType=function(a,b){b===void 0&&(b=!1);if(b)return"escalated";else if(a)return"audio";else return"video"};c.logErrorOnceforDomain=function(a,b){this.$3.has(a)||(this.$3.add(a),this.logError({errorDomain:a,errorType:b.toString()}))};c.logCheckpointOnceForDomain=function(a){var b=a.checkpoint;this.$4.has(b)||(this.$4.add(b),this.logCheckpoint(a))};c.clearLoggedDomains=function(){this.$3.clear(),this.$4.clear()};c.getWebLoggerInfoFromStore=function(a){a=a.callInfo;var b=a.callID,c=a.conferenceName;a=a.conferenceState;return{callID:b,conferenceName:c,conferenceState:a}};c.$7=function(){if(b("FBRTCSupport").isMobileDevice())return"mweb";else if(b("CurrentUser").isWorkUser())return"workplace";var a=window.location.hostname;if(a.search("facebook")!==-1)return"facebook";else if(a.search("messenger")!==-1)return"messenger_dot_com";return a};c.$9=function(a){var c=this.$2.get(a);if(c){this.$2=this.$2.remove(a);return parseInt((g||(g=b("performanceNow")))()-c,10)}return null};c.$8=function(a,c){a=a==null?"null":a;b("FBRTCConsoleLogger").getInstance().getLogHistory().log(a,JSON.stringify(c))};return a}();e.exports=new a()}),null);
__d("ZenonUsers",["Promise","MercuryIDs","MessengerParticipants.re","immutable","isStringNullOrEmpty","memoizeWithArgs","nullthrows"],(function(a,b,c,d,e,f){"use strict";var g=b("memoizeWithArgs")(function(a){var b=a.big_image_src,c=a.fbid,d=a.href,e=a.image_src,f=a.name,g=a.short_name,i=a.user_type;a=a.vanity;return Object.freeze({id:c,name:f,profilePictureUrl:(f=(c=b)!=null?c:e)!=null?f:null,profileUrl:(b=d)!=null?b:null,shortName:g,userType:h(i),vanity:(c=a)!=null?c:null})},function(a){a=a.fbid;return a}),h=function(a){a=a;if(a==="guest")return"guest";else if(a==="page")return"page";return"user"},i=function(a){var c=a[0];a=a[1];return[b("nullthrows")(b("MercuryIDs").getUserIDFromParticipantID(c)),g(a)]};a={getMulti:function(a){return new(b("Promise"))(function(c){var d=a.map(function(a){return b("MercuryIDs").getParticipantIDFromUserID(a)});b("MessengerParticipants.re").getMulti(d,function(a){c(b("immutable").Map(a).mapEntries(i))})})},getMultiEager:function(a){a=a.map(function(a){return b("MercuryIDs").getParticipantIDFromUserID(a)});var c=null,d=null;a=b("MessengerParticipants.re").getMultiEagerMap(a,function(a){a=a.mapEntries(i);c?c(a):d=a});var e=a[0];a=a[1];return[e.mapEntries(i),a!=null?new(b("Promise"))(function(a){d?a(d):c=a}):null]},get:function(a){return b("isStringNullOrEmpty")(a)?b("Promise").resolve(null):new(b("Promise"))(function(c){b("MessengerParticipants.re").get(b("MercuryIDs").getParticipantIDFromUserID(a),function(a){c(a?g(a):null)})})},getNow:function(a){if(b("isStringNullOrEmpty")(a))return null;a=b("MessengerParticipants.re").getNow(b("MercuryIDs").getParticipantIDFromUserID(a));return a?g(a):null}};e.exports=a}),null);
__d("ZenonUsersHooks",["React","ZenonUsers","immutable","promiseDone"],(function(a,b,c,d,e,f){"use strict";a=b("React");var g=a.useDebugValue,h=a.useEffect,i=a.useLayoutEffect,j=a.useRef,k=a.useState;c={useZenonUsers:function(a){var c=j(a),d=k(b("immutable").Map()),e=d[0],f=d[1];h(function(){return function(){c.current=null}},[]);i(function(){c.current=a;var d=b("ZenonUsers").getMultiEager(a),e=d[0];d=d[1];f(e);d&&b("promiseDone")(d,function(a){var b=c.current;b&&f(function(c){return c.withMutations(function(c){b.forEach(function(b){var d=a.get(b);d&&c.set(b,d)})})})})},[a]);g(e);return e},useZenonUser:function(a){var c=j(a),d=k(function(){return b("ZenonUsers").getNow(a)}),e=d[0],f=d[1];h(function(){c.current=a},[a]);h(function(){return function(){c.current=null}},[]);i(function(){var d=b("ZenonUsers").getNow(a);if(d!==e){f(d);return}b("promiseDone")(b("ZenonUsers").get(a),function(b){c.current===a&&f(b)})},[a,e]);g(e);return e}};e.exports=c}),null);
__d("multiway_ApprovalStatus",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({DENIED:0,APPROVED:1})}),null);
__d("multiway_Capability",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({SUPPORT_AUDIO_DEPRECATED:0,SUPPORT_VIDEO_DEPRECATED:1,SUPPORT_EXPERIMENTS_IN_JOIN_RESPONSE:2,SUPPORT_NEW_PARTICIPANT_STATES:3,SUPPORT_SDP_RENEGOTIATION:4,SUPPORT_MWPP:5,REQUIRE_FULL_SDP_IN_SMU:6,SUPPORT_PRECONNECT:7,SUPPORT_MWPP_DEESCALATION:8,SUPPORT_PARTICIPANT_STATE_UNCALLABLE:9})}),null);
__d("multiway_DeviceStatus",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({OK:0,NOT_SUPPORTED:1,IN_ANOTHER_CALL:10})}),null);
__d("multiway_DismissReason",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CALL_ENDED:0,ANSWERED_ON_ANOTHER_DEVICE:1,IN_ANOTHER_CALL:2,CONNECTION_DROPPED:3,REJECTED_ON_ANOTHER_DEVICE:4,REMOVED_BY_PARTICIPANT:5,REJECTED_BY_CALLEE:6,INTERNAL_ERROR:7,CALL_ENDED_BY_PRODUCT:9,JOIN_APPROVAL_DENIED:10,JOIN_APPROVAL_TIMEDOUT:11,UNSUPPORTED_VERSION:12,LIVE_NOT_ACKED:13,TX_ACK_TIMEDOUT:14})}),null);
__d("multiway_EndpointServiceType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({UNKNOWN:0,COMPOSITING_SERVICE:1})}),null);
__d("multiway_HangupReason",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({IGNORE_CALL:0,HANGUP_CALL:1,NO_ANSWER_TIMEOUT:2,CLIENT_ERROR:3,IN_ANOTHER_CALL:4,CLIENT_INTERRUPTED:5,SESSION_MIGRATED:6})}),null);
__d("multiway_MediaPauseStatus",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({NotPaused:0,Paused:1})}),null);
__d("multiway_MessageType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({JOIN:0,SERVER_MEDIA_UPDATE:1,HANGUP:2,ICE_CANDIDATE:3,RING:4,DISMISS:5,CONFERENCE_STATE:6,ADD_PARTICIPANTS:7,SUBSCRIPTION:8,CLIENT_MEDIA_UPDATE:9,DATA_MESSAGE:10,REMOVE_PARTICIPANTS:11,PING:18,P2P_PROTOCOL:19,UPDATE:20,NOTIFY:21,CONNECT:22,CLIENT_EVENT:23,UNSUBSCRIBE:25,APPROVAL:26})}),null);
__d("multiway_ParticipantCallState",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({UNKNOWN:0,DISCONNECTED:1,NO_ANSWER:2,REJECTED:3,UNREACHABLE:4,CONNECTION_DROPPED:5,CONTACTING:6,RINGING:7,CONNECTING:8,CONNECTED:9,PARTICIPANT_LIMIT_REACHED:10,IN_ANOTHER_CALL:11,RING_TYPE_UNSUPPORTED:12,PENDING_APPROVAL:13,APPROVED:14,FAILED_APPROVAL:15,HANGUP_IN_WAITING_ROOM:16,UNCALLABLE:17})}),null);
__d("multiway_RingType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({GROUP_AUDIO_CALL:0,PEER_VIDEO_CALL:1,PEER_AUDIO_CALL:2,GROUP_VIDEO_CALL:3,LIVE_STREAM:4,PEER_ESCALATED_VIDEO_CALL:5,PEER_ESCALATED_AUDIO_CALL:6})}),null);
__d("multiway_RtcResponseStatusCode",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({OK:200,BAD_REQUEST:400,UNAUTHORIZED:401,NOT_FOUND:404,METHOD_NOT_ALLOWED:406,CONFLICT:409,CONDITIONAL_REQUEST_FAILED:412,SERVER_INTERNAL_ERROR:500,SERVICE_UNAVAILABLE:503})}),null);
__d("multiway_RtcResponseSubCode",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({UNKNOWN:1e3,EXCEEDED_MAX_ALLOWED_PARTICIPANTS:1001,MEMBERSHIP_CHECK_FAIL:1002,CONFERENCE_THROTTLED:1003,ENDPOINT_THROTTLED:1004,UNSUPPORTED_REQUEST_TYPE:2e3,CLIENT_REQUEST_UNACCEPTABLE:2001,CLIENT_RESPONSE_UNACCEPTABLE:2002,RING_RESPONSE_BODY_NOT_SET:2004,SERVER_MEDIA_UPDATE_RESPONSE_BODY_NOT_SET:2005,INVALID_SDP:2006,INVALID_CONFERENCE_NAME:2007,SERVER_INFO_CONFERENCE_NAME_MISMATCH:2008,INVALID_USER_ID:2009,INCORRECT_VERSION_RANGE:2010,SENDER_ID_MISMATCH:2011,RECIPIENT_NOT_SPECIFIED:2012,FIELD_NOT_ALLOWED:2013,USERS_NOT_SPECIFIED:2015,REQUEST_UNACCEPTABLE_FOR_ENDPOINT_STATE:2016,INVALID_CALL_ID:2017,SESSION_DESCRIPTION_ID_MISMATCH:2018,EMPTY_CLIENT_MEDIA_UPDATES:2019,INVALID_SERVER_INFO_DATA:2020,INCORRECT_STATE_VERSION:2021,MISMATCHED_STATE_FOR_VERSION:2022,INVALID_STATE_VERSION:2023,NO_RESOLVER_FOUND:2024,MISSING_APPROVERLIST:2025,FULL_SDP_REQUIRED_IN_APPROVED_STATE:2026,INVALID_BROADCAST_ID:2027,INVALID_ENDPOINT_CONFIG:2028,MISSING_BODY_ENDPOINT:2101,MISSING_BODY_HEADER:2102,MISSING_BODY_BODY:2103,MISSING_BODY_PARAMS:2104,MISSING_BODY_REMOVE_PARTICIPANTS_REQUEST:2105,MISSING_BODY_DATA_MESSAGE_REQUEST:2106,MISSING_BODY_CLIENT_MEDIA_UPDATE_REQUEST:2107,MISSING_BODY_ADD_PARTICIPANTS_REQUEST:2108,MISSING_BODY_SUBSCRIPTION_REQUEST:2110,MISSING_BODY_JOIN_REQUEST:2111,MISSING_BODY_HANGUP_REQUEST:2112,MISSING_BODY_ICE_CANDIDATE_REQUEST:2113,MISSING_BODY_P2P_MESSAGE_REQUEST:2114,MISSING_BODY_UPDATE_REQUEST:2115,MISSING_BODY_CLIENT_EVENT_REQUEST:2116,MISSING_BODY_CONNECT_REQUEST:2117,MISSING_BODY_UNSUBSCRIBE_REQUEST:2118,MISSING_BODY_APPROVAL_REQUEST:2119,MISSING_BODY_GENERIC:2199,REQUESTOR_NOT_MEMBER_CONFERENCE:3002,NOT_BROADCAST_OWNER:3003,GUEST_NOT_INVITED:3004,GUEST_DISCONNECTED:3005,GUEST_INVITATION_EXPIRED:3006,SHOULD_USE_NEW_SIGNALING_PATH:3007,PARTICIPANT_IN_PENDING_APPROVAL_STATE:3008,BROADCAST_ALREADY_STOPPED:4002,FAILED_TO_GENERATE_SDP_ANSWER:4003,FAILED_GENERATE_SESSION_DESCRIPTION:4004,SDP_SESSION_ID_MISMATCH:4005,MEDIA_ENDPOINT_GONE:4007,MEDIA_ENDPOINT_ALREADY_EXISTS:4008,MEDIA_ENDPOINT_EXISTS_DIFFERENT_SESSION_ID:4009,LEGACY_MESSENGER_SENDER_UNSET:4010,FAILED_TO_SET_TRANSPORT_INFO:4011,NON_PRIMARY_MULTIWAY_SERVER:4012,FAILED_TO_GET_REMOTE_DESCRIPTION:4013,LOCAL_DESCRIPTION_NOT_SET:4014,INVALID_SDP_TYPE:4015,CLIENT_MEDIA_UPDATE_WITHOUT_REMOTE_SDP_INFO:4016,SDP_UNSET_ON_P2P_ANSWER:4017,MISSING_ICE_CANDIDATE_PAYLOAD:4018,P2P_PROTOCOL_UNSET:4019,CREATE_ACK_FOR_INVALID_MESSAGE_TYPE:4020,LEGACY_CLIENT_CANNOT_JOIN_SFU_MODE:4021,CONNECT_UNSUPPORTED_IN_SFU_MODE:4022,CONNECT_UNSUPPORTED_FOR_JOINED_ENDPOINTS:4023,RESOLVE_STATE_API_ERROR:4024,EXTERNAL_RESOLUTION_ERROR:4025,INTERNAL_RESOLUTION_ERROR:4026,RESOLUTION_DISABLED:4027,BROADCAST_ID_MISSING:4028,CONFERENCE_NOT_FOUND:5001,CONFERENCE_IS_TERMINATING:5002,CONFERENCE_IS_TERMINATED:5003,CONFERENCE_NAME_EMPTY:5004,NONCE_EMPTY:5005,NONCE_MISMATCH:5006,CONFERENCE_HAS_GONE:5007,PARTICIPANT_HAS_GONE:5008,MEDIA_SERVER_NOT_FOUND:5009,MEDIA_CODECS_UNSUPPORTED_BY_CONFERENCE:6001,CONFERENCE_INCAPABLE_RENEGOTIATION:6002,REJECTING_CMU_WHEN_SMU_PENDING:6003,PARTICIPANT_NOT_SUBSCRIBED_TO_TOPIC:6004,PARTICIPANT_ALREADY_IN_WAITING_ROOM:6005,PARTICIPANT_NOT_IN_PENDING_APPROVAL:6006,USER_NOT_APPROVER_FOR_TARGET_USER:6007,OK:9e3})}),null);
__d("multiway_VideoQuality",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({LOW:0,MEDIUM:1,HIGH:2,HD:3,NUM_QUALITIES:4})}),null);
__d("ZenonMWMessageTypes",["multiway_ApprovalStatus","multiway_Capability","multiway_DeviceStatus","multiway_DismissReason","multiway_EndpointServiceType","multiway_HangupReason","multiway_MediaPauseStatus","multiway_ParticipantCallState","multiway_RingType","multiway_RtcResponseStatusCode","multiway_RtcResponseSubCode","multiway_MessageType","multiway_VideoQuality"],(function(a,b,c,d,e,f){"use strict";e.exports={ZenonMWApprovalStatus:b("multiway_ApprovalStatus"),ZenonMWCapability:b("multiway_Capability"),ZenonMWDeviceStatus:b("multiway_DeviceStatus"),ZenonMWDismissReason:b("multiway_DismissReason"),ZenonMWEndpointServiceType:b("multiway_EndpointServiceType"),ZenonMWHangupReason:b("multiway_HangupReason"),ZenonMWMediaPauseStatus:b("multiway_MediaPauseStatus"),ZenonMWParticipantCallState:b("multiway_ParticipantCallState"),ZenonMWResponseStatusCode:b("multiway_RtcResponseStatusCode"),ZenonMWResponseSubCode:b("multiway_RtcResponseSubCode"),ZenonMWRingType:b("multiway_RingType"),ZenonMWSignalingPayloadType:b("multiway_MessageType"),ZenonMWVideoQuality:b("multiway_VideoQuality")}}),null);
__d("ZenonMediaError",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({ICE_DISCONNECTED:"Connection Dropped",ICE_FAILURE:"ICE failed"});e.exports={ZenonMediaError:a}}),null);
__d("ZenonDismissReason",["ZenonMediaError","ZenonMWMessageTypes","$InternalEnum"],(function(a,b,c,d,e,f){"use strict";var g=b("ZenonMediaError").ZenonMediaError,h=b("ZenonMWMessageTypes").ZenonMWDismissReason,i=b("$InternalEnum")({IgnoreCall:0,HangupCall:1,InAnotherCall:2,AcceptAfterHangUp:3,NoAnswerTimeout:4,IncomingTimeout:5,OtherInstanceHandled:6,SignalingMessageFailed:7,ConnectionDropped:8,ClientInterrupted:9,WebRTCError:10,ClientError:11,NoPermission:12,OtherNotCapable:13,NoUIShown:14,VersionUnsupported:15,CallerNotVisible:16,CarrierBlocked:17,OtherCarrierBlocked:18,ClientEncryptionError:19,MicrophonePermissionDenied:20,CameraPermissionDenied:21,SessionMigrated:22,RingMuted:23,JoinApprovalDenied:24,RejectedByCallee:25,CallEndedByProduct:26,CallEnded:27,AnsweredOnAnotherDevice:28,RejectedOnAnotherDevice:29,CallCollision:30,MaxAllowedParticipantsReached:31,UnexpectedEndOfCall:32});function a(a){return k[a]}function c(a){switch(a){case i.HangupCall:return"HangupCall";case i.IgnoreCall:return"IgnoreCall";case i.InAnotherCall:return"InAnotherCall";case i.AcceptAfterHangUp:return"CallEndAcceptAfterHangUp";case i.NoAnswerTimeout:return"NoAnswerTimeout";case i.IncomingTimeout:return"IncomingTimeout";case i.OtherInstanceHandled:return"OtherInstanceHandled";case i.SignalingMessageFailed:return"SignalingMessageFailed";case i.ConnectionDropped:return"ConnectionDropped";case i.ClientInterrupted:return"ClientInterrupted";case i.WebRTCError:return"WebRTCError";case i.ClientError:return"ClientError";case i.NoPermission:return"NoPermission";case i.OtherNotCapable:return"OtherNotCapable";case i.NoUIShown:return"NoUIShown";case i.VersionUnsupported:return"VersionUnsupported";case i.CallerNotVisible:return"CallerNotVisible";case i.CarrierBlocked:return"CarrierBlocked";case i.OtherCarrierBlocked:return"OtherCarrierBlocked";case i.ClientEncryptionError:return"ClientEncryptionError";case i.UnexpectedEndOfCall:return"UnexpectedEndOfCall";default:return"Unknown"}}function d(a){switch(a){case i.OtherInstanceHandled:case i.AnsweredOnAnotherDevice:case i.RejectedOnAnotherDevice:return"other_dismiss";default:return"hangup"}}function f(a){return l[a]}function j(a){return m[a]}var k=Object.freeze({CallEndAcceptAfterHangUp:i.AcceptAfterHangUp,CallerNotVisible:i.CallerNotVisible,CarrierBlocked:i.CarrierBlocked,ClientEncryptionError:i.ClientEncryptionError,ClientError:i.ClientError,ClientInterrupted:i.ClientInterrupted,ConnectionDropped:i.ConnectionDropped,HangupCall:i.HangupCall,IgnoreCall:i.IgnoreCall,InAnotherCall:i.InAnotherCall,InactiveTimeout:i.CallEnded,IncomingTimeout:i.IncomingTimeout,NoAnswerTimeout:i.NoAnswerTimeout,NoPermission:i.NoPermission,NoUIShown:i.NoUIShown,OtherCarrierBlocked:i.OtherCarrierBlocked,OtherInstanceHandled:i.OtherInstanceHandled,OtherNotCapable:i.OtherNotCapable,SignalingMessageFailed:i.SignalingMessageFailed,UnexpectedEndOfCall:i.UnexpectedEndOfCall,Unknown:i.CallEnded,VersionUnsupported:i.VersionUnsupported,WebRTCError:i.WebRTCError}),l=Object.freeze((b={},b[g.ICE_FAILURE]=i.WebRTCError,b[g.ICE_DISCONNECTED]=i.ConnectionDropped,b)),m=Object.freeze((g={},g[h.CALL_ENDED]=i.CallEnded,g[h.ANSWERED_ON_ANOTHER_DEVICE]=i.AnsweredOnAnotherDevice,g[h.IN_ANOTHER_CALL]=i.InAnotherCall,g[h.CONNECTION_DROPPED]=i.ConnectionDropped,g[h.REJECTED_ON_ANOTHER_DEVICE]=i.RejectedOnAnotherDevice,g[h.REJECTED_BY_CALLEE]=i.RejectedByCallee,g[h.CALL_ENDED_BY_PRODUCT]=i.CallEndedByProduct,g[h.INTERNAL_ERROR]=i.ClientError,g[h.REMOVED_BY_PARTICIPANT]=i.HangupCall,g));e.exports={ZenonDismissReason:i,dismissReasonToCancelReason:d,dismissToEndCallReason:c,endCallToDismissReason:a,mediaErrorToDismissReason:f,mwDismissToDmissReason:j}}),null);
__d("ZenonParticipantState",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";var g=b("$InternalEnum")({CONTACTING:6,RINGING:7,PENDING_APPROVAL:14,APPROVED:15,NEGOTIATING:8,CONNECTING:9,CONNECTED:10,UNKNOWN:0,DISCONNECTED:1,NO_ANSWER:2,REJECTED:3,UNREACHABLE:4,CONNECTION_DROPPED:5,PARTICIPANT_LIMIT_REACHED:11,IN_ANOTHER_CALL:12,RING_TYPE_UNSUPPORTED:13,FAILED_APPROVAL:16});function a(a){if(a==null)return"disconnected";switch(a){case g.CONTACTING:return"contacting";case g.RINGING:return"ringing";case g.NEGOTIATING:case g.CONNECTING:return"connecting";case g.CONNECTED:return"connected";case g.PENDING_APPROVAL:return"pending_approval";case g.APPROVED:return"approved";case g.FAILED_APPROVAL:return"failed_approval";case g.UNKNOWN:case g.DISCONNECTED:case g.NO_ANSWER:case g.REJECTED:case g.UNREACHABLE:case g.CONNECTION_DROPPED:case g.PARTICIPANT_LIMIT_REACHED:case g.IN_ANOTHER_CALL:case g.RING_TYPE_UNSUPPORTED:return"disconnected"}return"disconnected"}e.exports={ZenonParticipantState:g,toCallParticipantState:a}}),null);
__d("ZenonPlatformExperiments",["ScotchRTWebUserActionLogger","gkx","qex"],(function(a,b,c,d,e,f){"use strict";a={getOpusPtimeMungeValue:function(){var a;return(a=b("qex")._("1426590"))!=null?a:60},isMwpp:function(){var a;return(a=b("qex")._("1566745"))!=null?a:!1},isOpusMungeEnabled:function(){var a;return(a=b("qex")._("1426589"))!=null?a:!0},isZenonPlatform:function(){var a;return(a=b("qex")._("1566746"))!=null?a:!1},shouldUseLobbyMode:function(){var a;a=(a=b("gkx")("1450329"))!=null?a:!1;a&&b("ScotchRTWebUserActionLogger").logCheckpointOnceForDomain({checkpoint:"gk: rtc_www_lobby_mode"});return a},shouldUseStateSync:function(){var a=b("gkx")("1418215");a&&b("ScotchRTWebUserActionLogger").logCheckpointOnceForDomain({checkpoint:"gk: rtc_www_state_sync"});return a}};e.exports=a}),null);
__d("RtcInfraReliabilityFalcoEvent",["FalcoLoggerInternal","getSamplingPolicyConfig_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getSamplingPolicyConfig_DO_NOT_USE")("falco","rtc_infra_reliability");c=b("FalcoLoggerInternal").create(a);e.exports=c}),null);
__d("ZenonMWMessageMap",["ZenonMWMessageTypes"],(function(a,b,c,d,e,f){"use strict";a=b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType;d=Object.freeze((c={},c[a.JOIN]="JOIN",c[a.SERVER_MEDIA_UPDATE]="SERVER_MEDIA_UPDATE",c[a.ICE_CANDIDATE]="ICE_CANDIDATE",c[a.HANGUP]="HANGUP",c[a.RING]="RING",c[a.DISMISS]="DISMISS",c[a.CONFERENCE_STATE]="CONFERENCE_STATE",c[a.ADD_PARTICIPANTS]="ADD_PARTICIPANTS",c[a.SUBSCRIPTION]="SUBSCRIPTION",c[a.CLIENT_MEDIA_UPDATE]="CLIENT_MEDIA_UPDATE",c[a.DATA_MESSAGE]="DATA_MESSAGE",c[a.REMOVE_PARTICIPANTS]="REMOVE_PARTICIPANTS",c[a.PING]="PING",c[a.P2P_PROTOCOL]="P2P_PROTOCOL",c[a.NOTIFY]="NOTIFY",c[a.CONNECT]="CONNECT",c[a.CLIENT_EVENT]="CLIENT_EVENT",c[a.UNSUBSCRIBE]="UNSUBSCRIBE",c[a.UPDATE]="UPDATE",c[a.APPROVAL]="APPROVAL",c));e.exports=d}),null);
__d("ZenonDebugLogger",["CurrentUser","requireCond","ChannelClientID","FacebookAppIDs","Log","LogHistory","P2PReliabilityTypedLogger","cr:1577681","cr:1577682","RtcInfraReliabilityFalcoEvent","cr:1577683","UserAgentData","ZenonMWMessageMap","ZenonMWMessageTypes","formatDate","recoverableViolation","ScotchRTWebUserActionLogger","$InternalEnum"],(function(a,b,c,d,e,f){"use strict";var g=b("CurrentUser").getID(),h=b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType,i=null,j=b("cr:1577683")?{ConnectionStateMachine:b("cr:1577683").CONNECTION_STATE_MACHINE,ParentSignalingClient:b("cr:1577683").PARENT_SIGNALING_CLIENT,PeerConnectionStateMachine:b("cr:1577683").PEER_CONNECTION_STATE_MACHINE,SignalingStateMachine:b("cr:1577683").SIGNALING_STATE_MACHINE}:{},k=b("$InternalEnum").Mirrored(["RECEIVED_REQUEST","PROCESSED_REQUEST","PROCESSED_RESPONSE","SENDING_REQUEST","SENDING_RESPONSE","RECEIVED_RESPONSE"]),l=b("$InternalEnum").Mirrored(["CLIENT_RECEIVED_MESSAGE","CLIENT_PROCESSED_MESSAGE"]);a=function(){a.getInstance=function(){i||(i=new a());return i};function a(){var a;this.$1=b("LogHistory").getInstance("webrtc");this.$2=b("ChannelClientID").getID();this.$3=JSON.stringify({browser:(a=b("UserAgentData")).browserName,browser_version:a.browserFullVersion,device:a.deviceName,msg_source:"web",os:a.platformName,os_version:a.platformFullVersion,version:2});this.$4=b("FacebookAppIDs").MQTT_WEB}var c=a.prototype;c.$5=function(a){var c=b("formatDate")(new Date(),"[H:i:s:X]",{skipPatternLocalization:!0});this.$1.log("Console",c+" "+a);b("ScotchRTWebUserActionLogger").logCheckpoint({checkpoint:"[ZP] "+a},{noConsole:!0})};c.$6=function(a,c,d,e){e===void 0&&(e=0);a=j[a];if(!a||!b("cr:1577682")||!b("cr:1577681"))return;d==="terminated"?b("cr:1577682").markerEnd(a,b("cr:1577681").SUCCESS,e):b("cr:1577682").markerPoint(a,c,{data:{string:{data:d}},instanceKey:e})};c.$7=function(a){return isNaN(+a)?0:+a};c.$8=function(a){a=a.jsonPayload.header;return a.responseStatusCode!=null};c.$9=function(a,c){var d=this,e=c.endpoint,f=c.jsonPayload.header;b("RtcInfraReliabilityFalcoEvent").log(function(){return{client_session_id:f.clientSessionId,conference_name:f.conferenceName,event_name:a,message_type:b("ZenonMWMessageMap")[f.type],retry_count:f.retryCount,server_info_data:f.serverInfoData,tc:Date.now(),transaction_id:f.transactionId,web_app_id:+e.appId,web_device_id:d.$2}})};c.$10=function(a){return new(b("P2PReliabilityTypedLogger"))().setServiceName("WEB_CLIENT").setExtra(this.$3).setDeviceID(this.$2).setAppID(this.$4.toString()).setReceiverID(g).setCallID(a.call_id).setMsgID(a.id).setSenderID(a.from).setMsgType(a.type.toUpperCase()||a.msg_type.toUpperCase()).setRawTime(Date.now())};c.logStateMachine=function(a,b,c,d){var e=d==null?a:a+": "+d;e="["+e+"] [Current State: "+b+"] Processing event: "+c;this.$5(e);this.$6(a,c,b,this.$7(d))};c.logMWMessage=function(a,c){if(c.jsonPayload==null)return;var d=c.jsonPayload.header,e=b("ZenonMWMessageMap")[d.type];a="[ms] "+a+" "+e+" [messageID: "+d.transactionId+" retryCount: "+d.retryCount+"]";this.$5(a);this.logMWMessageDetails(c)};c.startQPL=function(a,c){c===void 0&&(c=0),b("cr:1577682")&&b("cr:1577682").markerStart(a,this.$7(c))};c.endQPL=function(a,c){c===void 0&&(c=0),b("cr:1577682")&&b("cr:1577681")&&b("cr:1577682").markerEnd(a,b("cr:1577681").SUCCESS,this.$7(c))};c.logMWMessageDetails=function(a){if(a.jsonPayload==null){b("recoverableViolation")("Should never call logMWMessageDetails with a null jsonPayload message","rtc_www");return}var c=a.jsonPayload,d=c.body;c=c.header;var e=b("ZenonMWMessageMap")[c.type],f="";switch(c.type){case h.SERVER_MEDIA_UPDATE:if(this.$8(a)){f="[md] "+e+" resp [currentVersion: "+((c=(c=d.serverMediaUpdateResponse)==null?void 0:c.currentVersion)!=null?c:"")+"]";break}f="[md] "+e+" req [fromVersion: "+((c=(c=d.serverMediaUpdateRequest)==null?void 0:c.fromVersion)!=null?c:"")+" toVersion: "+((c=(c=d.serverMediaUpdateRequest)==null?void 0:c.toVersion)!=null?c:"")+"]";break;case h.CLIENT_MEDIA_UPDATE:if(this.$8(a)){f="[md] "+e+" resp [currentVersion: "+((a=(c=d.clientMediaUpdateResponse)==null?void 0:c.currentVersion)!=null?a:"")+"]";break}f="[md] "+e+" req [fromVersion: "+((a=(c=d.clientMediaUpdateRequest)==null?void 0:c.fromVersion)!=null?a:"")+" toVersion: "+((a=(c=d.clientMediaUpdateRequest)==null?void 0:c.toVersion)!=null?a:"")+"]";break;case h.SUBSCRIPTION:f="[md] "+e+" req [subscriptions: "+JSON.stringify((a=(c=d.subscriptionRequest)==null?void 0:c.subscriptions)!=null?a:"")+"]";break;default:return}this.$5(f)};c.logReceivingMultiwayMessage=function(a){this.$8(a)?this.$9(k.RECEIVED_RESPONSE,a):this.$9(k.RECEIVED_REQUEST,a)};c.logProcessingMultiwayMessage=function(a){this.$8(a)?this.$9(k.PROCESSED_RESPONSE,a):this.$9(k.PROCESSED_REQUEST,a)};c.logSendingMultiwayMessage=function(a){this.$8(a)?this.$9(k.SENDING_RESPONSE,a):this.$9(k.SENDING_REQUEST,a)};c.logP2PMessageReceived=function(a){this.$10(a).setEventName(l.CLIENT_RECEIVED_MESSAGE).log()};c.logP2PMessageProcessed=function(a){this.$10(a).setEventName(l.CLIENT_PROCESSED_MESSAGE).log()};return a}();e.exports=a}),null);
__d("ZenonSignalingMessage",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.getHeader=function(){return this.$1};b.getEvents=function(){return this.$2};b.setSignalingID=function(a){this.$1.signalingID=a};b.setRetryCount=function(a){this.$1.retryCount=a};return a}();e.exports=a}),null);
__d("ZenonSignalingTypes",[],(function(a,b,c,d,e,f){"use strict";a={OK:0,REJECTED_FROM_VERSION_DOES_NOT_MATCH:1};e.exports={ZenonRemoteSdpResponseStatus:a}}),null);
__d("ZenonMWTranslatorUtils",["ChannelClientID","CurrentUser","FacebookAppIDs","ZenonDismissReason","ZenonMWMessageTypes","ZenonParticipantState","ZenonSignalingTypes","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g=b("ZenonDismissReason").ZenonDismissReason,h=b("ZenonDismissReason").mwDismissToDmissReason,i=(a=b("ZenonMWMessageTypes")).ZenonMWDeviceStatus,j=a.ZenonMWHangupReason,k=a.ZenonMWParticipantCallState,l=a.ZenonMWResponseStatusCode,m=a.ZenonMWResponseSubCode;c=b("ZenonParticipantState").ZenonParticipantState;d=b("ZenonSignalingTypes").ZenonRemoteSdpResponseStatus;var n={createMWMessage:function(a,c){var d={appId:n.getMWAppID(),deviceId:b("ChannelClientID").getID(),userId:b("CurrentUser").getID()};return{endpoint:d,jsonPayload:{body:c,header:a}}},fromMWDismissReason:function(a){a=h(a);return(a=a)!=null?a:g.CallEnded},fromMWJoinResponseStatusToDismissReason:function(a,c){if(c===m.EXCEEDED_MAX_ALLOWED_PARTICIPANTS)return g.MaxAllowedParticipantsReached;switch(a){case l.METHOD_NOT_ALLOWED:case l.UNAUTHORIZED:return g.NoPermission;case l.SERVICE_UNAVAILABLE:return g.SignalingMessageFailed;case l.OK:throw b("unrecoverableViolation")("Response status code is OK; should not return a dismiss reason","rtc_www");default:return g.ClientError}},fromMWParticipantState:function(a){a=p[a];return(a=a)!=null?a:k.UNKNOWN},getCollisionContextFromAppMessages:function(a){var b=null;a!=null&&a.forEach(function(a){a=(a=a.body)==null?void 0:a.genericMessage;if(a!=null&&a.topic==="collision_context_payload"){a=a.data;if(a!=null){var c;a=JSON.parse(a);b={groupThreadID:(c=a.group_thread_id)!=null?c:null,peerID:(c=a.peer_id)!=null?c:null,serverInfoData:(c=a.server_info_data)!=null?c:null}}}});return b},getMWAppID:function(){return b("FacebookAppIDs").MQTT_WEB.toString()},getRoomMetadataFromAppMessages:function(a){a=a&&a.length>0?a.find(function(a){return((a=a.body)==null?void 0:(a=a.genericMessage)==null?void 0:a.topic)==="room_metadata"}):null;if(a){var b;b=(b=a.body)==null?void 0:(b=b.genericMessage)==null?void 0:b.data;if(b!=null){b=JSON.parse(b);a=(a=a.header)==null?void 0:a.sender;if(b.link_hash!=null&&b.room_name!=null&&a!=null)return{linkHash:b.link_hash,profileURL:b.profile_url,ringSubtitle:b.ring_subtitle,roomName:b.room_name,sender:a}}}return{}},getSdpVersion:function(a){a=a.split("\n");if(a.length<2)throw b("unrecoverableViolation")("Expected SDP string with two or more lines, but got "+a.length,"rtc_www");a=a[1].trim();a=a.split(" ");if(a.length<3)throw b("unrecoverableViolation")("Session line should have at least 3 tokens, but got "+a.length,"rtc_www");a=parseInt(a[2],10);if(isNaN(a))throw b("unrecoverableViolation")("SDP version could not be parsed as number.","rtc_www");return a},mwMessageHeaderToSignalingMessageHeader:function(a){var b=a.clientSessionId,c=a.conferenceName,d=a.sequenceNumber,e=a.serverInfoData,f=a.transactionId;b=b;var g={userID:"2"};f={messageID:f,protocol:"mw",remoteInfo:g,retryCount:a.retryCount,roomInfo:{name:c},sequenceNumber:d,signalingID:b,userInfo:{userID:"1"}};e!=null&&(f.remoteSignalingID=e);return f},signalingMessageHeaderToMWHeader:function(a,b){var c=a.messageID,d=a.remoteSignalingID,e=a.roomInfo,f=a.signalingID;e={conferenceName:e.name,retryCount:a.retryCount,transactionId:c,type:b};f!=null&&(e.clientSessionId=f);d!=null&&(e.serverInfoData=d);return e},signalingMessageHeaderToMWResponseHeader:function(a,b,c){a=n.signalingMessageHeaderToMWHeader(a,b);a.responseStatusCode=(b=c)!=null?b:l.OK;return a},toMWClientMediaStatus:function(a){var b={tracks:{}};a.tracks.forEach(function(a){b.tracks[a.trackID]={enabled:a.enabled,owner:a.userID}});return b},toMWDeviceStatus:function(a){a=o[a];return(a=a)!=null?a:i.OK},toMWHangupReason:function(a){switch(a){case g.IgnoreCall:return j.IGNORE_CALL;case g.HangupCall:return j.HANGUP_CALL;case g.NoAnswerTimeout:return j.NO_ANSWER_TIMEOUT;case g.ClientError:return j.CLIENT_ERROR;case g.InAnotherCall:return j.IN_ANOTHER_CALL;case g.ClientInterrupted:return j.CLIENT_INTERRUPTED;case g.SessionMigrated:return j.SESSION_MIGRATED;default:return j.HANGUP_CALL}},toMWMediaStatus:function(a){var b={};a.tracks.forEach(function(a){b[a.trackID]=a.enabled});return b},toMWResponseStatusCode:function(a){return q[a]},toMWSyncStateStore:function(a){var b={};a.forEach(function(a,c){b[c]=a});return b},toZenonMediaStates:function(a){var b={tracks:[],version:0};Object.keys(a.tracks).forEach(function(c){var d=a.tracks[c];c={enabled:d.enabled,trackID:c,userID:d.owner};b.tracks.push(c);b.version++});return b}},o={IN_ANOTHER_CALL:i.IN_ANOTHER_CALL,NOT_SUPPORTED:i.NOT_SUPPORTED,OK:i.OK},p=Object.freeze((f={},f[k.UNKNOWN]=c.UNKNOWN,f[k.DISCONNECTED]=c.DISCONNECTED,f[k.NO_ANSWER]=c.NO_ANSWER,f[k.REJECTED]=c.REJECTED,f[k.UNREACHABLE]=c.UNREACHABLE,f[k.CONNECTION_DROPPED]=c.CONNECTION_DROPPED,f[k.CONTACTING]=c.CONTACTING,f[k.RINGING]=c.RINGING,f[k.CONNECTING]=c.CONNECTING,f[k.CONNECTED]=c.CONNECTED,f[k.PARTICIPANT_LIMIT_REACHED]=c.PARTICIPANT_LIMIT_REACHED,f[k.IN_ANOTHER_CALL]=c.IN_ANOTHER_CALL,f[k.RING_TYPE_UNSUPPORTED]=c.RING_TYPE_UNSUPPORTED,f[k.PENDING_APPROVAL]=c.PENDING_APPROVAL,f[k.APPROVED]=c.APPROVED,f[k.FAILED_APPROVAL]=c.FAILED_APPROVAL,f)),q=Object.freeze((a={},a[d.OK]=l.OK,a[d.REJECTED_FROM_VERSION_DOES_NOT_MATCH]=l.CONDITIONAL_REQUEST_FAILED,a));e.exports=n}),null);
__d("ZenonMWMessageTranslator",["CurrentUser","ZenonMWMessageTypes","ZenonMWTranslatorUtils","ZenonPlatformExperiments","ZenonSignalingMessage","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g=(a=b("ZenonMWMessageTypes")).ZenonMWCapability,h=a.ZenonMWResponseStatusCode,i=a.ZenonMWRingType,j=a.ZenonMWSignalingPayloadType,k="joining_context",l="signalingDominantSpeakerUpdate";c={toMWMessage:function(a){var c=a.getHeader();a=a.getEvents();if(a.length===0)throw b("unrecoverableViolation")("Unexpected Translation: called toMWMessage with empty signaling events","messenger_web_product");else{var d=a[0];switch(d.eventName){case"addParticipantsRequest":return A(c,d);case"clientInfoRequest":if(a.length>=2&&a[1].eventName==="localSdpRequest"&&(a[1].sdp.type==="offer"||a[1].sdp.type==="answer"&&b("ZenonPlatformExperiments").isMwpp()))return F(c,d,a[1]);break;case"genericDataMessageRequest":return C(c,d);case"inviteRequest":if(a.length>=3&&a[1].eventName==="clientInfoRequest"&&a[2].eventName==="localSdpRequest"&&a[2].sdp.type==="offer")return F(c,a[1],a[2],d);break;case"inviteResponse":return G(c,d);case"dismissResponse":return K(c);case"initiateRenegotiationResponse":return P(c,d);case"iceCandidateRequest":return E(c,d);case"iceCandidateResponse":return D(c,d);case"localSdpRequest":return N(c,d.mediaStates,d.sdp);case"mediaUpdateRequest":return N(c,d.mediaStates);case"participantUpdateResponse":return M(c,d);case"pingRequest":return L(c);case"remoteSdpResponse":return d.type==="offer"&&(a.length>=2&&a[1].eventName==="localSdpRequest"&&a[1].sdp.type==="answer")?O(c,d,a[1]):O(c,d);case"removeParticipantsRequest":return B(c,d);case"stateSyncNotifyResponse":return R(c,d);case"stateSyncUnsubscribeRequest":return S(c,d);case"stateSyncUpdateRequest":return Q(c,d);case"subscriptionRequest":return I(c,d);case"terminateRequest":return H(c,d);case"usersApprovalRequest":return J(c,d)}}return null},toSignalingMessage:function(a){var c=a.jsonPayload.header;if(c.receiverUserId!=null&&c.receiverUserId!==b("CurrentUser").getID())throw b("unrecoverableViolation")("Ignoring MW message; receiverUserId does not match self ID","messenger_web_product");var d=c.type,e=c.responseStatusCode==null;c=b("ZenonMWTranslatorUtils").mwMessageHeaderToSignalingMessageHeader(c);var f=[];switch(d){case j.RING:e&&(f=o(a));break;case j.DISMISS:e&&(f=p(a));break;case j.JOIN:e||(f=r(a));break;case j.ICE_CANDIDATE:e?f=s(a):f=t(a);break;case j.CONFERENCE_STATE:e&&(f=u(a));break;case j.CLIENT_MEDIA_UPDATE:e||(f=v(a));break;case j.SERVER_MEDIA_UPDATE:e&&(f=w(a));break;case j.PING:e||(f=m(a));break;case j.HANGUP:e||(f=n(a));break;case j.DATA_MESSAGE:e&&(f=q(a));break;case j.UPDATE:e||(f=x(a));break;case j.UNSUBSCRIBE:e||(f=z(a));break;case j.NOTIFY:e&&(f=y(a));break}return new(b("ZenonSignalingMessage"))(c,f)}};function m(a){var b=[];a=a.jsonPayload.header;a={ackMessageId:a.transactionId,eventName:"pingResponse"};b.push(a);return b}function n(a){var b=[];a=a.jsonPayload.header;a={ackMessageId:a.transactionId,eventName:"hangupResponse"};b.push(a);return b}function o(a){var c=[];a=a.jsonPayload;var d=a.body;a=a.header;d=d.ringRequest;if(d){var e=d.appMessages,f=d.caller,g=d.otherParticipants,h=d.ringType;f=f;h=h===i.PEER_VIDEO_CALL||h===i.GROUP_VIDEO_CALL||h===i.LIVE_STREAM||h===i.PEER_ESCALATED_AUDIO_CALL;var j=a.conferenceName;a=a.serverInfoData;var k=b("ZenonMWTranslatorUtils").getCollisionContextFromAppMessages(e);k&&(k==null?void 0:k.serverInfoData)==null&&(k.serverInfoData=a);e=b("ZenonMWTranslatorUtils").getRoomMetadataFromAppMessages(e);g={eventName:"inviteRequest",inviterID:f,isRemoteOfferer:!1,otherParticipants:g,requestingVideo:h,roomInfo:{context:(f=k)!=null?f:{groupThreadID:null,peerID:null,serverInfoData:a},name:j,room:e,sender:e.sender}};c.push(g);f=(k=(h=d.offer)==null?void 0:h.sdpString)!=null?k:"";j=(a=d.mediaStatusEx)!=null?a:null;if(f!==""&&j!=null&&b("ZenonPlatformExperiments").isMwpp()){e={sdp:f,type:"offer",version:b("ZenonMWTranslatorUtils").getSdpVersion(f)};g=b("ZenonMWTranslatorUtils").toZenonMediaStates(j);h={eventName:"remoteSdpRequest",mediaStates:g,negotiateType:!1,sdp:e};c.push(h)}}return c}function p(a){var c=[];a=a.jsonPayload.body.dismissRequest;if(a){a=a.reason;a={eventName:"terminateRequest",fromJoinResponse:!1,reason:b("ZenonMWTranslatorUtils").fromMWDismissReason(a),shouldInformPeer:!0};c.push(a)}return c}function q(a){var b=[];a=a.jsonPayload.body.dataMessageRequest;if(a){var c,d=a.message.header;c=(c=a.message)==null?void 0:(c=c.body)==null?void 0:c.genericMessage;a=(a=a.message)==null?void 0:(a=a.body)==null?void 0:a.dominantSpeakerSignalingInfo;if(c||a){a=c?atob(c.data):JSON.stringify(a);c=c?c.topic:l;d={data:(a=a)!=null?a:"",eventName:"genericDataMessageRequest",recipientIDs:(a=d.recipients)!=null?a:[],serviceRecipients:(a=d.serviceRecipients)!=null?a:[],topic:c};b.push(d)}}return b}function r(a){var c=[],d=a.jsonPayload.header;if(d.responseStatusCode&&d.responseStatusCode!==h.OK){var e={eventName:"terminateRequest",fromJoinResponse:!0,reason:b("ZenonMWTranslatorUtils").fromMWJoinResponseStatusToDismissReason(d.responseStatusCode,d.responseSubCode),shouldInformPeer:!1};c.push(e);return c}e=a.jsonPayload.body.joinResponse;if(!e)return c;a=(a=(a=e.answer)==null?void 0:a.sdpString)!=null?a:"";var f=a!=="";d={ackMessageId:d.transactionId,eventName:"localSdpResponse",hasAnswerInJoinResponse:f,source:"joinResponse"};c.push(d);if(f){d={sdp:a,type:"answer",version:b("ZenonMWTranslatorUtils").getSdpVersion(a)};f=b("ZenonMWTranslatorUtils").toZenonMediaStates(e.mediaStatusEx);a={eventName:"remoteSdpRequest",mediaStates:f,negotiateType:!1,sdp:d,source:"joinResponse"};c.push(a)}f={capabilities:{addParticipantEnabled:!0},eventName:"capabilitiesRequest"};c.push(f);var g=e.stateStore;b("ZenonPlatformExperiments").shouldUseStateSync()&&g&&Object.keys(g).forEach(function(a){var b=g[a],d=b.data;b=b.version;if(d!=null){d={data:d,eventName:"stateSyncNotifyRequest",responseRequired:!1,topic:a,version:b};c.push(d)}});if(b("ZenonPlatformExperiments").shouldUseLobbyMode()&&e.isPendingApproval){d={eventName:"pendingApprovalRequest"};c.push(d)}return c}function s(a){var b=[];a=a.jsonPayload.body.iceCandidateRequest;if(a){a={eventName:"iceCandidateRequest",iceCandidates:a.iceCandidateSdps.map(function(a){var b;return{candidateSdpString:(b=a.candidateSdpString)!=null?b:"",sdpMLineIndex:a.sdpMLineIndex,sdpMid:a.sdpMid}})};b.push(a)}return b}function t(a){var b=[];a=a.jsonPayload.header;a={ackMessageId:a.transactionId,eventName:"iceCandidateResponse"};b.push(a);return b}function u(a){var c=[];a=a.jsonPayload.body.conferenceStateRequest;if(a){var d=a.appMessages,e=a.participantStates,f={eventName:"participantUpdateRequest",participantStates:new Map(),versionId:a.version},g={eventName:"clientInfoRequest",userCapabilities:new Map()};Object.keys(e).forEach(function(a){var c=e[a],d=c.state;c=c.userCapabilities;f.participantStates.set(a,b("ZenonMWTranslatorUtils").fromMWParticipantState(d));g.userCapabilities.set(a,(d=c)!=null?d:"")});c.push(f);c.push(g);a=b("ZenonMWTranslatorUtils").getCollisionContextFromAppMessages(d);if(a){d={context:a,eventName:"roomContextUpdateRequest"};c.push(d)}}return c}function v(a){var c=[];a=a.jsonPayload;var d=a.body;a=a.header;d=d.clientMediaUpdateResponse;if(d){var e=d.answer,f=d.mediaStatus;if(e!=null&&f!=null){e=(e=e.sdpString)!=null?e:"";f=b("ZenonMWTranslatorUtils").toZenonMediaStates(f);var g={ackMessageId:a.transactionId,eventName:"localSdpResponse",hasAnswerInJoinResponse:!1,source:"clientMediaUpdate"};f={eventName:"remoteSdpRequest",mediaStates:f,negotiateType:!1,sdp:{sdp:e,type:"answer",version:b("ZenonMWTranslatorUtils").getSdpVersion(e)}};c.push(g);c.push(f)}else{e={ackMessageId:a.transactionId,eventName:"mediaUpdateResponse",requestVersionId:d.currentVersion};c.push(e)}}return c}function w(a){var c=[];a=a.jsonPayload;var d=a.body;a=a.header;d=d.serverMediaUpdateRequest;if(!d)return c;a={eventName:"overlayConfigServerUpdateRequest",serializedConfig:(a=(a=a.extensions)==null?void 0:a.oc1)!=null?a:""};c.push(a);if(d.renegotiationRequested){a={eventName:"initiateRenegotiationRequest",fromVersion:d.fromVersion,version:d.toVersion};c.push(a)}a=(a=(a=d.answer)==null?void 0:a.sdpString)!=null?a:"";var e="answer";if(a===""){var f;a=(f=(f=d.offer)==null?void 0:f.sdpString)!=null?f:"";e="offer"}if(a==="")return c;f={sdp:a,type:e,version:b("ZenonMWTranslatorUtils").getSdpVersion(a)};e=b("ZenonMWTranslatorUtils").toZenonMediaStates(d.mediaStatus);a={eventName:"remoteSdpRequest",fromVersion:d.fromVersion,mediaStates:e,negotiateType:!1,sdp:f};c.push(a);return c}function x(a){a=a.jsonPayload;var b=a.body.updateResponse;a=a.header.transactionId;if(!b)return[];var c=b.topic;b=b.version;a={ackMessageId:a,eventName:"stateSyncUpdateResponse",topic:c,version:b};return[a]}function y(a){a=a.jsonPayload.body.notifyRequest;if(!a)return[];var b=a.data,c=a.topic;a=a.version;b={data:b,eventName:"stateSyncNotifyRequest",responseRequired:!0,topic:c,version:a};return[b]}function z(a){a=a.jsonPayload;var b=a.body.unsubscribeResponse;a=a.header.transactionId;if(!b)return[];var c=b.topic;b=b.version;a={ackMessageId:a,eventName:"stateSyncUnsubscribeResponse",topic:c,version:b};return[a]}function A(a,c){c={usersToInvite:c.participants};a=b("ZenonMWTranslatorUtils").signalingMessageHeaderToMWHeader(a,j.ADD_PARTICIPANTS);return b("ZenonMWTranslatorUtils").createMWMessage(a,{addParticipantsRequest:c})}function B(a,c){c={usersToRemove:c.participants};a=b("ZenonMWTranslatorUtils").signalingMessageHeaderToMWHeader(a,j.REMOVE_PARTICIPANTS);return b("ZenonMWTranslatorUtils").createMWMessage(a,{removeParticipantsRequest:c})}function C(a,c){var d={data:c.data,topic:c.topic};a=b("ZenonMWTranslatorUtils").signalingMessageHeaderToMWHeader(a,j.DATA_MESSAGE);return b("ZenonMWTranslatorUtils").createMWMessage(a,{dataMessageRequest:{message:{body:{genericMessage:d},header:{recipients:c.recipientIDs,sender:b("CurrentUser").getID(),serviceRecipients:c.serviceRecipients,topic_DEPRECATED:""}}}})}function D(a,c){c=b("ZenonMWTranslatorUtils").signalingMessageHeaderToMWResponseHeader(a,j.ICE_CANDIDATE);return b("ZenonMWTranslatorUtils").createMWMessage(c,{})}function E(a,c){c=c.iceCandidates;c=c.map(function(a){return{candidateSdpString:a.candidateSdpString,sdpMLineIndex:a.sdpMLineIndex,sdpMid:a.sdpMid}});c={iceCandidateSdps:c};a=b("ZenonMWTranslatorUtils").signalingMessageHeaderToMWHeader(a,j.ICE_CANDIDATE);return b("ZenonMWTranslatorUtils").createMWMessage(a,{iceCandidateRequest:c})}function F(a,c,d,e){var f=c.initialSyncStates;f={deviceCapabilities:[g.SUPPORT_NEW_PARTICIPANT_STATES,g.REQUIRE_FULL_SDP_IN_SMU,g.SUPPORT_SDP_RENEGOTIATION],mediaStatus:b("ZenonMWTranslatorUtils").toMWMediaStatus(d.mediaStates),offer:{},syncPayload:f?{stateStore:b("ZenonMWTranslatorUtils").toMWSyncStateStore(f)}:void 0,userCapabilities:c.userCapabilities.get(a.userInfo.userID)};d.sdp.type==="offer"&&(f.offer={sdpString:d.sdp.sdp});b("ZenonPlatformExperiments").isMwpp()&&(f.deviceCapabilities.push(g.SUPPORT_MWPP),d.sdp.type==="answer"&&(f.answer={sdpString:d.sdp.sdp}));c=e==null?void 0:e.otherParticipants;c&&(f.usersToCall=c);c=(d=e==null?void 0:e.roomInfo.context)!=null?d:a.roomInfo.context;c&&(f.appMessages=[{body:{genericMessage:{data:JSON.stringify(c),topic:k}},header:{topic_DEPRECATED:k}}]);e=b("ZenonMWTranslatorUtils").signalingMessageHeaderToMWHeader(a,j.JOIN);c&&c.serverInfoData!=null&&(e.serverInfoData=c.serverInfoData);return b("ZenonMWTranslatorUtils").createMWMessage(e,{joinRequest:f})}function G(a,c){c=c.status;c==="IN_ANOTHER_CALL"&&(a.signalingID=null);c=b("ZenonMWTranslatorUtils").toMWDeviceStatus(c);c={deviceCapabilities:[g.SUPPORT_AUDIO_DEPRECATED,g.SUPPORT_VIDEO_DEPRECATED],deviceStatus:c};a=b("ZenonMWTranslatorUtils").signalingMessageHeaderToMWResponseHeader(a,j.RING);return b("ZenonMWTranslatorUtils").createMWMessage(a,{ringResponse:c})}function H(a,c){c=c.reason;c={detailedReasonString:"",reason:b("ZenonMWTranslatorUtils").toMWHangupReason(c)};a=b("ZenonMWTranslatorUtils").signalingMessageHeaderToMWHeader(a,j.HANGUP);return b("ZenonMWTranslatorUtils").createMWMessage(a,{hangupRequest:c})}function I(a,c){c=c.subscriptions;c={subscriptions:c};a=b("ZenonMWTranslatorUtils").signalingMessageHeaderToMWHeader(a,j.SUBSCRIPTION);return b("ZenonMWTranslatorUtils").createMWMessage(a,{subscriptionRequest:c})}function J(a,c){var d=c.approvalStatus;c=c.targetUsers;d={approvalStatus:d,targetUsers:c};c=b("ZenonMWTranslatorUtils").signalingMessageHeaderToMWHeader(a,j.APPROVAL);return b("ZenonMWTranslatorUtils").createMWMessage(c,{approvalRequest:d})}function K(a){a=b("ZenonMWTranslatorUtils").signalingMessageHeaderToMWResponseHeader(a,j.DISMISS);return b("ZenonMWTranslatorUtils").createMWMessage(a,{})}function L(a){var c=Object.freeze({});a=b("ZenonMWTranslatorUtils").signalingMessageHeaderToMWHeader(a,j.PING);return b("ZenonMWTranslatorUtils").createMWMessage(a,{pingRequest:c})}function M(a,c){c={currentVersion:c.requestVersionId};a=b("ZenonMWTranslatorUtils").signalingMessageHeaderToMWResponseHeader(a,j.CONFERENCE_STATE);return b("ZenonMWTranslatorUtils").createMWMessage(a,{conferenceStateResponse:c})}function N(a,c,d){c={fromVersion:c.version,mediaUpdates:[{mediaStatus:b("ZenonMWTranslatorUtils").toMWMediaStatus(c)}],toVersion:c.version};d!==void 0&&(c.offer={sdpString:d.sdp});d=b("ZenonMWTranslatorUtils").signalingMessageHeaderToMWHeader(a,j.CLIENT_MEDIA_UPDATE);return b("ZenonMWTranslatorUtils").createMWMessage(d,{clientMediaUpdateRequest:c})}function O(a,c,d){if(c.acknowledgedVersion==null)throw b("unrecoverableViolation")("Error creating ServerMediaUpdateResponse: remoteSdpResponse.acknowledgedVersion is null","messenger_web_product");var e={currentVersion:c.acknowledgedVersion};d&&(e.answer={sdpString:d.sdp.sdp},e.mediaStatus=b("ZenonMWTranslatorUtils").toMWClientMediaStatus(d.mediaStates));d=b("ZenonMWTranslatorUtils").signalingMessageHeaderToMWResponseHeader(a,j.SERVER_MEDIA_UPDATE,b("ZenonMWTranslatorUtils").toMWResponseStatusCode(c.status));return b("ZenonMWTranslatorUtils").createMWMessage(d,{serverMediaUpdateResponse:e})}function P(a,c){var d={currentVersion:c.acknowledgedVersion};a=b("ZenonMWTranslatorUtils").signalingMessageHeaderToMWResponseHeader(a,j.SERVER_MEDIA_UPDATE,b("ZenonMWTranslatorUtils").toMWResponseStatusCode(c.status));return b("ZenonMWTranslatorUtils").createMWMessage(a,{serverMediaUpdateResponse:d})}function Q(a,c){var d=c.data,e=c.topic;c=c.version;d={data:d,topic:e,version:c};e=b("ZenonMWTranslatorUtils").signalingMessageHeaderToMWHeader(a,j.UPDATE);return b("ZenonMWTranslatorUtils").createMWMessage(e,{updateRequest:d})}function R(a,c){var d=c.topic;c=c.version;d={topic:d,version:c};c=b("ZenonMWTranslatorUtils").signalingMessageHeaderToMWResponseHeader(a,j.NOTIFY);return b("ZenonMWTranslatorUtils").createMWMessage(c,{notifyResponse:d})}function S(a,c){var d=c.topic;c=c.version;d={topic:d,version:c};c=b("ZenonMWTranslatorUtils").signalingMessageHeaderToMWHeader(a,j.UNSUBSCRIBE);return b("ZenonMWTranslatorUtils").createMWMessage(c,{unsubscribeRequest:d})}e.exports=c}),null);
__d("CallEndReason",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({IGNORE_CALL:"IgnoreCall",HANGUP_CALL:"HangupCall",IN_ANOTHER_CALL:"InAnotherCall",ACCEPT_AFTER_HANGUP:"CallEndAcceptAfterHangUp",NO_ANSWER_TIMEOUT:"NoAnswerTimeout",INCOMING_TIMEOUT:"IncomingTimeout",OTHER_INSTANCE_HANDLED:"OtherInstanceHandled",SIGNALING_MESSAGE_FAILED:"SignalingMessageFailed",CONNECTION_DROPPED:"ConnectionDropped",CLIENT_INTERRUPTED:"ClientInterrupted",WEBRTC_ERROR:"WebRTCError",CLIENT_ERROR:"ClientError",NO_PERMISSION:"NoPermission",OTHER_NOT_CAPABLE:"OtherNotCapable",NO_UI_ERROR:"NoUIShown",UNSUPPORTED_VERSION:"VersionUnsupported",CALLER_NOT_VISIBLE:"CallerNotVisible",CARRIER_BLOCKED:"CarrierBlocked",OTHER_CARRIER_BLOCKED:"OtherCarrierBlocked",CLIENT_ENCRYPTION_ERROR:"ClientEncryptionError"})}),null);
__d("WebrtcMessageType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({OFFER:"offer",ANSWER:"answer",ICE_CANDIDATE:"ice_candidate",OK:"ok",HANG_UP:"hang_up",OTHER_DISMISS:"other_dismiss",MESSAGE_ACK:"msg_ack",PRANSWER:"pranswer",PING:"ping",PING_ACK:"ping_ack",ICE_RESTART_OFFER:"icerestart_offer",ICE_RESTART_ANSWER:"icerestart_answer",OFFER_ACK:"offer_ack",ANSWER_ACK:"answer_ack",SET_VIDEO:"set_video",ACK:"ack",INVALID:"invalid",OFFER_NACK:"offer_nack",NACK:"nack",VIDEO_REQUEST:"video_request",SDP_UPDATE:"sdp_update",SWITCH_TO_MULTIWAY:"switch_to_multiway",ON_HOLD:"on_hold",NEGOTIATE:"negotiate",RING:"ring",PR_OFFER_ACK:"pr_offer_ack",NOTIFY_MEDIA_STATE:"notify_media_state",CLIENT_REPORTED_EVENT:"client_reported_event"})}),null);
__d("ZenonP2PMessageTypes",["WebrtcMessageType","CallEndReason"],(function(a,b,c,d,e,f){"use strict";e.exports={ZenonP2PCallEndReason:b("CallEndReason"),ZenonP2PSignalingPayloadType:b("WebrtcMessageType")}}),null);
__d("ZenonP2PTranslatorUtils",["CurrentUser","ZenonDismissReason","ZenonP2PMessageTypes"],(function(a,b,c,d,e,f){"use strict";var g=b("ZenonDismissReason").ZenonDismissReason,h=b("ZenonP2PMessageTypes").ZenonP2PCallEndReason;a={fromP2PCallEndReason:function(a){a=i[a];return(a=a)!=null?a:g.CallEnded},p2pMessageToSignalingMessageHeader:function(a,c){var d=c.call_id,e=c.from;c=c.source;var f=e+":"+b("CurrentUser").getID();return{messageID:a,protocol:"p2p",remoteInfo:{deviceInfo:{deviceID:c},userID:e},remoteSignalingID:String(d),retryCount:0,roomInfo:{name:f},signalingID:String(d),userInfo:{userID:b("CurrentUser").getID()}}},toP2PCallEndReason:function(a){switch(a){case g.HangupCall:return h.HANGUP_CALL;case g.IgnoreCall:return h.IGNORE_CALL;case g.InAnotherCall:return h.IN_ANOTHER_CALL;case g.AcceptAfterHangUp:return h.ACCEPT_AFTER_HANGUP;case g.NoAnswerTimeout:return h.NO_ANSWER_TIMEOUT;case g.IncomingTimeout:return h.INCOMING_TIMEOUT;case g.OtherInstanceHandled:return h.OTHER_INSTANCE_HANDLED;case g.SignalingMessageFailed:return h.SIGNALING_MESSAGE_FAILED;case g.ConnectionDropped:return h.CONNECTION_DROPPED;case g.ClientInterrupted:return h.CLIENT_INTERRUPTED;case g.WebRTCError:return h.WEBRTC_ERROR;case g.ClientError:return h.CLIENT_ERROR;case g.NoPermission:return h.NO_PERMISSION;case g.OtherNotCapable:return h.OTHER_NOT_CAPABLE;case g.NoUIShown:return h.NO_UI_ERROR;case g.VersionUnsupported:return h.UNSUPPORTED_VERSION;case g.CallerNotVisible:return h.CALLER_NOT_VISIBLE;case g.CarrierBlocked:return h.CARRIER_BLOCKED;case g.OtherCarrierBlocked:return h.OTHER_CARRIER_BLOCKED;case g.ClientEncryptionError:return h.CLIENT_ENCRYPTION_ERROR;default:return h.HANGUP_CALL}}};var i=Object.freeze((c={},c[h.HANGUP_CALL]=g.HangupCall,c[h.IGNORE_CALL]=g.IgnoreCall,c[h.IN_ANOTHER_CALL]=g.InAnotherCall,c[h.ACCEPT_AFTER_HANGUP]=g.AcceptAfterHangUp,c[h.NO_ANSWER_TIMEOUT]=g.NoAnswerTimeout,c[h.INCOMING_TIMEOUT]=g.IncomingTimeout,c[h.OTHER_INSTANCE_HANDLED]=g.OtherInstanceHandled,c[h.SIGNALING_MESSAGE_FAILED]=g.SignalingMessageFailed,c[h.CONNECTION_DROPPED]=g.ConnectionDropped,c[h.CLIENT_INTERRUPTED]=g.ClientInterrupted,c[h.CLIENT_ERROR]=g.ClientError,c[h.WEBRTC_ERROR]=g.WebRTCError,c[h.CLIENT_ERROR]=g.ClientError,c[h.NO_PERMISSION]=g.NoPermission,c[h.OTHER_NOT_CAPABLE]=g.OtherNotCapable,c[h.NO_UI_ERROR]=g.NoUIShown,c[h.UNSUPPORTED_VERSION]=g.VersionUnsupported,c[h.CALLER_NOT_VISIBLE]=g.CallerNotVisible,c[h.CARRIER_BLOCKED]=g.CarrierBlocked,c[h.OTHER_CARRIER_BLOCKED]=g.OtherCarrierBlocked,c[h.CLIENT_ENCRYPTION_ERROR]=g.ClientEncryptionError,c));e.exports=a}),null);
__d("ZenonP2PMessageTranslator",["errorCode","ZenonDismissReason","ZenonP2PMessageTypes","ZenonP2PTranslatorUtils","ZenonParticipantState","ZenonSignalingMessage"],(function(a,b,c,d,e,f,g){"use strict";var h=b("ZenonDismissReason").ZenonDismissReason,i=b("ZenonP2PMessageTypes").ZenonP2PSignalingPayloadType,j=b("ZenonParticipantState").ZenonParticipantState,k=0,l=3;a={toP2PMessage:function(a){var b=a.getHeader();a=a.getEvents();if(a.length===0)throw new Error("Unexpected Translation: called toP2PMessage with empty signaling events");switch(a[0].eventName){case"answerIntentRequest":return t(b);case"inviteResponse":if(a[0].status==="NOT_SUPPORTED")return r(b);else return q(b);case"terminateRequest":return s(b,a[0]);default:return null}},toSignalingMessage:function(a){switch(a.type){case i.OFFER:return m(a);case i.HANG_UP:return n(a);case i.OTHER_DISMISS:return o(a);case i.ICE_CANDIDATE:return p(a);default:return null}}};function m(a){var c=b("ZenonP2PTranslatorUtils").p2pMessageToSignalingMessageHeader(String(a.msg_id),a),d=[],e=a.escalation_conference_name,f=a.from,g=a.videoon;g={eventName:"inviteRequest",inviterID:f,isRemoteOfferer:!0,otherParticipants:[],requestingVideo:g,roomInfo:{context:{groupThreadID:null,peerID:f,serverInfoData:null},name:e}};d.push(g);e={eventName:"remoteSdpRequest",sdp:{sdp:a.sdp,type:"offer",version:0},mediaStates:{tracks:[],version:0},negotiateType:!1};d.push(e);g={capabilities:{addParticipantEnabled:a.offer_escalation_support},eventName:"capabilitiesRequest"};d.push(g);e=new Map([[f,j.CONNECTED]]);a={eventName:"participantUpdateRequest",participantStates:e,versionId:k};d.push(a);return new(b("ZenonSignalingMessage"))(c,d)}function n(a){var c=b("ZenonP2PTranslatorUtils").p2pMessageToSignalingMessageHeader(String(a.msg_id),a),d=[],e=a.from;a=a.reason;a={eventName:"terminateRequest",fromJoinResponse:!1,reason:b("ZenonP2PTranslatorUtils").fromP2PCallEndReason(a),shouldInformPeer:!0};d.push(a);a=new Map([[e,j.DISCONNECTED]]);e={eventName:"participantUpdateRequest",participantStates:a,versionId:l};d.push(e);return new(b("ZenonSignalingMessage"))(c,d)}function o(a){a=b("ZenonP2PTranslatorUtils").p2pMessageToSignalingMessageHeader(String(a.msg_id),a);var c=[],d={eventName:"terminateRequest",fromJoinResponse:!1,reason:h.OtherInstanceHandled,shouldInformPeer:!0};c.push(d);return new(b("ZenonSignalingMessage"))(a,c)}function p(a){var c=b("ZenonP2PTranslatorUtils").p2pMessageToSignalingMessageHeader(String(a.msg_id),a),d=[],e=a.sdp,f=a.sdp_line_idx;a=a.sdp_mid;e={candidateSdpString:e,sdpMLineIndex:f,sdpMid:a};f={eventName:"iceCandidateRequest",iceCandidates:[e]};d.push(f);return new(b("ZenonSignalingMessage"))(c,d)}function q(a){if(a.signalingID===null)throw new Error("Unexpected P2P Translation: expected signalingID to not be null");return{ack_id:parseInt(a.messageID,10),call_id:parseInt(a.signalingID,10),msg_id:parseInt(a.messageID,10),type:"offer_ack"}}function r(a){if(a.signalingID===null)throw new Error("Unexpected P2P Translation: expected signalingID to not be null");return{ack_id:parseInt(a.messageID,10),call_id:parseInt(a.signalingID,10),error_code:1356043,msg_id:parseInt(a.messageID,10),type:"offer_nack"}}function s(a,c){if(a.signalingID===null)throw new Error("Unexpected P2P Translation: expected signalingID to not be null");var d=parseInt(a.messageID,10);a=parseInt(a.signalingID,10);c=b("ZenonP2PTranslatorUtils").toP2PCallEndReason(c.reason);return{call_id:a,msg_id:d,reason:c,type:"hang_up",version:0}}function t(a){if(a.signalingID===null)throw new Error("Unexpected P2P Translation: expected signalingID to not be null");var b=parseInt(a.signalingID,10);a=parseInt(a.messageID,10);return{call_id:b,msg_id:a,type:"other_dismiss"}}e.exports=a}),null);
__d("MessengerThreadListLoggerUtil",["MessagingTag","QuickPerformanceLogger"],(function(a,b,c,d,e,f){"use strict";var g=new Map(),h=1;function i(a,c){return!a||!a.includes(b("MessagingTag").INBOX.toUpperCase())?null:c==null?25296905:25296906}function j(a,b,c){return[].concat(a||[],[b,c]).filter(Boolean).join("_")}function a(a,c,d){var e=i(a,c);if(!e)return;b("QuickPerformanceLogger").markerStart(e,h);g.set(j(a,c,d),h);h++}function c(a,c,d,e){var f=i(a,c);if(!f)return;a=j(a,c,d);c=g.get(a);c!=null&&(b("QuickPerformanceLogger").markerEnd(f,e,c),g["delete"](a))}e.exports={markerStart:a,markerEnd:c}}),null);
__d("MessengerThreadlistWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"3439852689387901"};b.getQueryID=function(){return"2691023561185874"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("MessengerGraphQLThreadlistFetcher.bs",["Promise","Utils.bs","gkx","bs_js_dict","BanzaiODS","bs_caml_array","WebGraphQL","bs_caml_format","bs_caml_option","CurrentUser","MercuryServerRequestsConfig","MessengerThreadListLoggerUtil","ChatReliabilityInstrumentation","MessengerServerPayloadTransformer.bs","MessengerThreadlistWebGraphQLQuery"],(function(a,b,c,d,e,f){"use strict";function g(a){b("MessengerThreadListLoggerUtil").markerStart(a.tags,a.timestamp,a.limit);return new(b("MessengerThreadlistWebGraphQLQuery"))({limit:a.limit,before:a.timestamp,tags:a.tags,isWorkUser:b("CurrentUser").isWorkUser(),includeDeliveryReceipts:a.includeDeliveryReceipts,includeSeqID:a.includeSeqID,onlyPinnedThreads:a.onlyPinnedThreads,is_work_teamwork_not_putting_muted_in_unreads:b("gkx")("1105011")})}function h(a,c,d,e){var f=[],g=[],h={},i=[],j={},k={contents:void 0},l={contents:0},m=[];e.forEach(function(e,n){n=b("bs_caml_array").caml_array_get(c,n);var o=b("Utils.bs").optionBoolToBool(b("bs_caml_option").nullable_to_opt(n.onlyPinnedThreads)),p=[],q=[],r=[],s=e.viewer.pending_threads;s==null||(l.contents=s.unseen_count);e.viewer.message_threads.nodes.forEach(function(c){if(c==null)return 0;else{var e=b("MessengerServerPayloadTransformer.bs").transformThread(a,c,d),g=b("MessengerServerPayloadTransformer.bs").transformParticipants(c);g.forEach(function(a){j[a.fbid]=a;return 0});var k;if(e.is_canonical){g=e.other_user_fbid;g==null?k=null:(p.push(g),k=g)}else{g=e.thread_fbid;g==null?k=null:(q.push(g),k=g)}r.push(e.thread_id);f.push(e);if(!(k==null)){g=b("MessengerServerPayloadTransformer.bs").transformReadReceipts(a,c);g!==void 0&&(h[k]=b("bs_caml_option").valFromOption(g))}if(!(k==null)){g=b("MessengerServerPayloadTransformer.bs").transformDeliveryReceipts(c);if(g.length!==0){c=g[0];e.is_canonical?i.push({other_user_fbid:k,thread_fbid:null,time:b("bs_caml_format").caml_float_of_string(c.timestamp_precise)}):i.push({other_user_fbid:null,thread_fbid:k,time:b("bs_caml_format").caml_float_of_string(c.timestamp_precise)})}}if(!(k==null)&&o){m.push(k);return 0}else return 0}});s=e.viewer.message_threads.sync_sequence_id;s==null||(k.contents=b("bs_caml_format").caml_int_of_string(s));if(o)return 0;else{e=n.timestamp;g.push({folder:n.folder,other_user_fbids:p,thread_fbids:q,thread_ids:r,filter:n.filter,limit:e==null?n.limit:n.limit-1|0});return 0}});return{threads:f,ordered_threadlists:g,pending_folder_unseen_count:l.contents,roger:h,delivery_receipts:i,participants:b("bs_js_dict").values(j),sequence_id:k.contents,pinned_thread_ids:m}}function i(a,c){a.forEach(function(a){b("MessengerThreadListLoggerUtil").markerEnd(a.tags,a.timestamp,a.limit,c);return 0});return 0}function a(a,c,d,e){var f=c.map(g);return b("Promise").all(b("WebGraphQL").execAll(f,{actorID:d?a:null,batchName:"MessengerGraphQLThreadlistFetcher",msgrRegion:b("MercuryServerRequestsConfig").msgrRegion,allowCrossPageTransition:!0}))["catch"](function(a){b("BanzaiODS").bumpEntityKey(2966,"messenger_webgraphql",e+".failure");i(c,"FAIL");b("ChatReliabilityInstrumentation").logERROR("fetch_thread_list_fail");return b("Promise").reject(a)}).then(function(f){b("BanzaiODS").bumpEntityKey(2966,"messenger_webgraphql",e+".success");i(c,"SUCCESS");return h(a,c,d,f)})}f._getQuery=g;f.transform=h;f.markerEnd=i;f.fetchAll=a}),null);
__d("XRefererFrameController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/common/referer_frame.php",{})}),null);
__d("ControlledReferer",["Bootloader","DeferredCookie","URI","XRefererFrameController","isMessengerDotComURI","isOculusDotComURI","isWorkplaceDotComURI","lowerFacebookDomain"],(function(a,b,c,d,e,f){var g,h={shouldUseFacebookReferer:function(a,c,d){if(!b("DeferredCookie").canEmbedThirdPartyPixel()){b("Bootloader").loadModules(["BanzaiODS"],function(a){a.bumpEntityKey(2966,"defer_cookies","block_controlled_referer_iframe")},"ControlledReferer");return}var e=!1;function f(){if(e)return;var b=a.contentWindow.location.pathname;if(b!=="/intern/common/referer_frame.php"&&b!=="/common/referer_frame.php")return;e=!0;a.contentWindow.document.body.style.margin=0;c()}var h;b("isMessengerDotComURI")((g||(g=b("URI"))).getRequestURI())?h=b("XRefererFrameController").getURIBuilder().getURI().toString():b("isOculusDotComURI")((g||(g=b("URI"))).getRequestURI())?h="/common/referer_frame.php":!b("lowerFacebookDomain").isValidDocumentDomain()?h="/intern/common/referer_frame.php":h=b("XRefererFrameController").getURIBuilder().getURI().toString();d==null&&b("isWorkplaceDotComURI")((g||(g=b("URI"))).getRequestURI())&&(d="workplace");d&&(h+="?fb_source="+d);a.onload=f;a.src=h},useFacebookRefererHtml:function(a,b,c){h.shouldUseFacebookReferer(a,function(){a.contentWindow.document.body.innerHTML=b},c)}};e.exports=h}),null);
__d("SecurePostMessage",["invariant"],(function(a,b,c,d,e,f,g){"use strict";var h="*";a={sendMessageToSpecificOrigin:function(a,b,c,d){c!==h||g(0,21157),a.postMessage(b,c,d)},sendMessageForCurrentOrigin:function(a,b){a.postMessage(b)},sendMessageAllowAnyOrigin_UNSAFE:function(a,b,c){a.postMessage(b,h,c)}};e.exports=a}),null);
__d("StaticContainer.react",["React"],(function(a,b,c,d,e,f){var g=b("React");a=function(a){"use strict";babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.shouldComponentUpdate=function(a){return!!a.shouldUpdate};c.render=function(){var a=this.props.children;return a===null||a===!1?null:g.Children.only(a)};return b}(g.Component);e.exports=a}),null);
__d("ControlledRefererIFrame.react",["ControlledReferer","ControlledRefererIFrameConfig","React","SecurePostMessage","StaticContainer.react","URI"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.mountFrameRef=function(a){this.frame=a};d.updateFrame=function(){var a=this,c=this.frame;if(!c)return;b("ControlledReferer").shouldUseFacebookReferer(c,function(){var d=c.contentWindow.document;d.body.innerHTML='\n        <form method="GET" id="theform"></form>\n        '+b("ControlledRefererIFrameConfig").additional_markup+"\n      ";var e=new(g||(g=b("URI")))(a.props.src).qualify(),f=d.getElementById("theform");f.action=e.toString();e=e.getQueryData();for(var h in e)if(Object.prototype.hasOwnProperty.call(e,h)){var i=d.createElement("input");i.name=h;i.setAttribute("value",e[h]);i.autocomplete="off";i.type="hidden";f.appendChild(i)}d.body.innerHTML+='\n        <iframe\n          frameborder="0"\n          width="1"\n          height="1"\n          onload="document.getElementById(\'theform\').submit()"\n        />\n      ';a.props.onFrameRender&&a.props.onFrameRender(a.props)})};d.componentDidMount=function(){this.updateFrame()};d.componentDidUpdate=function(a){a.src!==this.props.src&&this.updateFrame()};d.UNSAFE_componentWillReceiveProps=function(a){var b=this.frame;b&&(a.width!==this.props.width||a.height!==this.props.height)&&(a.width!=null&&(b.width=""+a.width),a.height!=null&&(b.height=""+a.height))};d.render=function(){var a=this,c=this.props;c.src;c=babelHelpers.objectWithoutPropertiesLoose(c,["src"]);return h.jsx(b("StaticContainer.react"),{children:h.jsx("iframe",babelHelpers["extends"]({},c,{ref:function(b){return a.mountFrameRef(b)}}))})};d.postMessage=function(a,c){this.frame&&b("SecurePostMessage").sendMessageToSpecificOrigin(this.frame.contentWindow,a,c)};return c}(h.PureComponent);e.exports=a}),null);
__d("InstantGamesPresenceProperties",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=!1}var b=a.prototype;b.addInstantGamePresence=function(){this.$1=!0};b.removeInstantGamePresence=function(){this.$1=!1};b.isActiveGamePresence=function(){return this.$1};return a}();b=new a();e.exports=b}),null);