if (self.CavalryLogger) { CavalryLogger.start_js(["\/MWQK"]); }

__d("StoriesCometPrivacySelectorDialogQuery$Parameters",[],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:"3616097898432566",metadata:{relayPreloadable:!0},name:"StoriesCometPrivacySelectorDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometCreationResponsiveToggle.react",["ix","fbt","React","TetraIcon.react","fbicon","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i=b("React");function a(a){var c=a.layout,d=a.onChangeLayout;return i.jsxs("div",{className:"tr9rh885 dhix69tm wkznzc2l taijpn5t j83agx80",children:[i.jsx("div",{className:"wkznzc2l",children:i.jsx(b("TetraIcon.react"),{"aria-label":h._("Switch to desktop layout"),"aria-pressed":c==="desktop",color:c==="desktop"?"highlight":"secondary",icon:b("fbicon")._(g("607956"),20),onPress:function(){return d("desktop")},size:48})}),i.jsx(b("TetraIcon.react"),{"aria-label":h._("Switch to mobile layout"),"aria-pressed":c==="mobile",color:c==="mobile"?"highlight":"secondary",icon:b("fbicon")._(g("514772"),20),onPress:function(){return d("mobile")},size:48})]})}}),null);
__d("CometCreationPreviewContainer.react",["fbt","CometCard.react","CometCreationResponsiveToggle.react","CometRouteRenderType","CometScreenReaderText.react","React","TetraUnitHeader.react","stylex"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=b("React");function a(a){var c=a.allowFocus;c=c===void 0?!1:c;var d=a.children,e=a.hasResponsiveToggle;e=e===void 0?!0:e;var f=a.onChangeLayout;a=i.useState("desktop");var j=a[0],k=a[1];a=b("CometRouteRenderType").useIsPushView();var l=i.useRef(null),m=i.useRef(null),n=function(a){f&&f(a),k(a)},o=function(a){a.key==="Tab"&&!a.shiftKey&&m.current!=null&&m.current.focus(),a.stopPropagation()},p=function(a){a.key==="Tab"&&a.shiftKey&&l.current!=null&&l.current.focus(),a.stopPropagation()},q=function(){m.current!=null&&m.current.focus()},r=g._("Note: Interactive elements such as links cannot be used in the following preview."),s=null,t;e?(s=j==="desktop"?g._("Desktop Preview"):g._("Mobile Preview"),t=j==="desktop"?g._("Preview in Desktop Layout"):g._("Preview in Mobile Layout")):s=t=g._("Preview");return i.jsxs("div",{"aria-label":t,className:(h||(h=b("stylex"))).dedupe({"background-color-1":"cwj9ozl2","border-top-start-radius-1":"ue3kfks5","border-top-end-radius-1":"pw54ja7n","border-bottom-end-radius-1":"uo3d90p7","border-bottom-start-radius-1":"l82x9zwi","box-shadow-1":"kmp5kqmu","box-sizing-1":"rq0escxv","display-1":"j83agx80","flex-direction-1":"cbu4d94t","flex-grow-1":"buofh1pr","flex-shrink-1":"g5gj957u","height-1":"datstx6m","margin-top-1":"bcvklqu9","margin-end-1":"gupp8or6","margin-bottom-1":"nzypyw8j","margin-start-1":"frluczxc","max-width-1":"rdhfdfv2","min-height-1":"tgvbjcpo","width-1":"ng3hk9f3"},j==="mobile"?{"width-1":"om55ty98"}:null,a?{"margin-top-1":"ourw01k9"}:null),role:"region",children:[i.jsxs("div",{className:"taijpn5t j83agx80 bp9cbjyn",children:[i.jsx("div",{className:"g5gj957u buofh1pr rj1gh0hx",children:i.jsx(b("TetraUnitHeader.react"),{headline:s,level:4})}),e&&i.jsx(b("CometCreationResponsiveToggle.react"),{layout:j,onChangeLayout:n})]}),!c&&i.jsxs(i.Fragment,{children:[i.jsx(b("CometScreenReaderText.react"),{text:r}),i.jsx("div",{onKeyDownCapture:o,ref:l,tabIndex:"0"})]}),i.jsx("div",{className:"stjgntxs dhix69tm sjgh65i0 wkznzc2l tr9rh885 buofh1pr rj1gh0hx j83agx80",onFocus:c?null:q,onKeyDownCapture:c?null:o,tabIndex:c?-1:0,children:i.jsx(b("CometCard.react"),{background:"light-wash",expanding:!0,children:i.jsx("div",{className:"eg9m0zos ni8dbmo4 datstx6m",children:i.jsx("div",{className:"datstx6m"+(c?"":" hzruof5a"),children:d})})})}),!c&&i.jsx("div",{onKeyDownCapture:p,ref:m,tabIndex:"0"})]})}}),null);
__d("useScrollLeftRailToTopOnChange",["BaseScrollableAreaContext","React"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c=g.useContext(b("BaseScrollableAreaContext")),d=c[c.length-1];g.useEffect(function(){var a=d.getDOMNode();a!=null&&(a.scrollTop=0)},[d,a])}}),null);
__d("getCometCreationLayoutBreadcrumbs",["CometContentArea.react","CometCreationContext","CometCreationPreviewContainer.react","CometErrorBoundary.react","CometLeftRailAndMainContentContainer.react","CometLeftRailBreadcrumbs.react","CometLeftRailComponent.react","CometLeftRailHeader.react","React","emptyFunction","stylex","useScrollLeftRailToTopOnChange"],(function(a,b,c,d,e,f){"use strict";e.exports=a;b("React");function a(a,b,c,d,e){d[c];var f=[b!=null?{label:a,replace:!0,url:b}:{label:a}];b=function(a){if(d[a].hideBreadcrumb!==!0){var b={label:d[a].title,onPress:void 0};a!==c&&(b.onPress=function(){return e(a)});f.push(b)}};for(var a=0;a<=c;a++)b(a);return f}}),null);
__d("CometCreationLayout.react",["CometContentArea.react","CometCreationContext","CometCreationPreviewContainer.react","CometErrorBoundary.react","CometLeftRailAndMainContentContainer.react","CometLeftRailBreadcrumbs.react","CometLeftRailComponent.react","CometLeftRailHeader.react","React","emptyFunction","getCometCreationLayoutBreadcrumbs","stylex","useScrollLeftRailToTopOnChange"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React"),h={isDraft:!0};function a(a){var c=a.actorSelector,d=a.breadcrumbsOverride,e=a.creationCategoryName,f=a.creationCategoryURL,j=a.currentFormStep;j=j===void 0?0:j;var k=a.formAreaTitle,l=a.formSteps,m=a.onBreadcrumbPress;m=m===void 0?b("emptyFunction"):m;var n=a.previewAreaTitle,o=a.preview;o=o===void 0?null:o;var p=a.previewContainerProps,q=a.previewErrorFallback,r=q===void 0?null:q;q=a.previewNullState;a=q===void 0?null:q;q=l[j];d=(d=d)!=null?d:b("getCometCreationLayoutBreadcrumbs")(e,f,j,l,m);f=r!=null?function(a){return g.jsx(b("CometContentArea.react"),{verticalAlign:"middle",children:r(a)})}:function(){return null};l=c!=null?g.jsx("div",{className:"scb9dxdr dflh9lhu",children:c}):null;return g.jsx(b("CometLeftRailAndMainContentContainer.react"),{isLeftRailMainContent:!0,isLeftRailResponsive:!0,leftRailContent:g.jsx(b("CometLeftRailComponent.react"),{footer:q.footer,header:g.jsx(b("CometLeftRailHeader.react"),{auxiliary:q.titleAddOn,meta:g.jsx(b("CometLeftRailBreadcrumbs.react"),{breadcrumbs:d}),subTitle:q.subTitle,subTitleType:"body1",title:q.title}),primaryNav:g.jsxs(i,{currentFormStep:j,label:e,children:[l,q.body]})}),leftRailHeading:k,leftRailPrimary:!0,mainContent:o!=null?g.jsx(b("CometContentArea.react"),{hasNoRole:!0,children:g.jsx(b("CometCreationContext").Provider,{value:h,children:g.jsx(b("CometErrorBoundary.react"),{fallback:f,children:g.jsx(b("CometCreationPreviewContainer.react"),babelHelpers["extends"]({},p,{children:o}))})})}):g.jsx(b("CometContentArea.react"),{verticalAlign:"middle",children:a}),mainContentHeading:n})}function i(a){var c=a.children,d=a.currentFormStep;a=a.label;b("useScrollLeftRailToTopOnChange")(d);return g.jsx("div",{"aria-label":a,role:"form",children:c})}}),null);
__d("useCometWindowSize",["CometThrottle","React","useCometPassiveWindowSize"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(){var a=b("useCometPassiveWindowSize")(),c=a.getCurrent();c=g.useState(c);var d=c[0],e=c[1];g.useEffect(function(){var c=b("CometThrottle")(function(){e(a.getCurrent())},500),d=a.subscribe(c);return function(){c.cancel(),d.remove()}},[a]);return d}}),null);
__d("CircularProgressBar.react",["cx","React","createReactClass_DEPRECATED","prop-types"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=b("createReactClass_DEPRECATED")({displayName:"CircularProgressBar",propTypes:{animate:b("prop-types").bool,percentComplete:b("prop-types").number.isRequired,text:b("prop-types").string},render:function(){var a=this.props,b=a.animate,c=a.text;a=a.percentComplete;var d=360*a/100,e=Math.max(d,180)-180;d=Math.min(d,180);var f=a<100?"1":"0";return h.jsxs("div",{"aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":a,className:"_1_bj",role:"progressbar",style:{opacity:f},children:[!!c&&h.jsx("div",{className:"_22sa",children:c}),h.jsx("div",{className:"_1_bk",children:h.jsxs("div",{className:b?"_22sb":"",children:[h.jsx("div",{className:"_1_bl",style:{opacity:f}}),h.jsx("div",{className:"_1_bp _1_bq",children:h.jsx("div",{className:"_1_br",style:{transform:"translateX(-100%) rotate("+e+"deg)",opacity:f}})}),h.jsx("div",{className:"_1_bs _1_bq",children:h.jsx("div",{className:"_1_br",style:{transform:"translateX(-100%) rotate("+d+"deg)",opacity:f}})})]})})]})}});e.exports=a}),null);
__d("CollageItemFallback.react",["ix","CircularProgressBar.react","CometImage.react","React","TetraText.react","asset","qex","stylex"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=b("React");function a(a){var c=a.filename,d=a.fileType;a=a.percentComplete;c=c!=null?c:void 0;var e=b("qex")._("1138950");return i.jsxs("div",{className:"scb9dxdr sj5x9vvc dflh9lhu cxgpxx05 taijpn5t datstx6m cbu4d94t j83agx80 rq0escxv qsy8amke bp9cbjyn n5ue3fu6",children:[i.jsx("div",{className:(h||(h=b("stylex"))).dedupe(e===!0?{"display-1":"j83agx80","margin-bottom-1":"qacpv2si","margin-top-1":"f0zqjlou"}:{"display-1":"j83agx80","margin-bottom-1":"n851cfcs"}),children:i.jsx(b("CometImage.react"),{alt:c,draggable:!1,src:d==="VIDEO"?g("567270"):g("557364")})}),a!=null&&i.jsx(b("CircularProgressBar.react"),{percentComplete:a*100}),i.jsx(b("TetraText.react"),{numberOfLines:1,type:"meta1",children:c})]})}}),null);
__d("StoriesCometPrivacySelectorDialog.entrypoint",["JSResource","StoriesCometPrivacySelectorDialogQuery$Parameters"],(function(a,b,c,d,e,f){"use strict";a={getPreloadProps:function(){return{queries:{myQueryReference:{parameters:b("StoriesCometPrivacySelectorDialogQuery$Parameters"),variables:{}}}}},root:b("JSResource")("StoriesCometPrivacySelectorDialog.react").__setRef("StoriesCometPrivacySelectorDialog.entrypoint")};e.exports=a}),null);
__d("StoriesCreateContext",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=!1;d=a.createContext(c);e.exports=d}),null);
__d("StoriesCreateDefaultState",["uuid"],(function(a,b,c,d,e,f){"use strict";f.getStoriesCreateInitialState=a;function a(){return{composerSessionID:b("uuid")(),ctaLinkData:{ctaType:null,link:null,linkInputError:!1},formData:{step:0},isObjectRotating:!1,mediaAttachments:null,overlayRef:{current:null},photoData:{bounds:{height:0,width:0,x:0,y:0},displayedURI:null,offset:{dx:0,dy:0},rotation:0,scale:1},stickerData:{editingID:null,gridState:!1,stickers:[],taggedUsers:[]},storyID:"add_later",videoData:{currentDuration:0,duration:0,isTrimming:!1,lastMutedUpdateReason:null,lastPlaybackUpdateReason:null,muted:null,paused:null,startTime:0}}}}),null);
__d("StoriesCreateViewStateContext",["React","StoriesCreateDefaultState"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=a.createContext(b("StoriesCreateDefaultState").getStoriesCreateInitialState());e.exports=c}),null);
__d("StoriesCreateViewStateDispatcherContext",["React","emptyFunction"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=a.createContext(b("emptyFunction"));e.exports=c}),null);
__d("StoriesCreateViewStateReducersContext",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React");c={current:new Map()};d=a.createContext(c);e.exports=d}),null);
__d("withStoriesCreateViewStatePart",["React","StoriesCreateViewStateContext","withSomeContext"],(function(a,b,c,d,e,f){"use strict";e.exports=a;b("React");function a(a,c){return b("withSomeContext")(a,b("StoriesCreateViewStateContext"),c)}}),null);
__d("useStoriesCreateReducer",["StoriesCreateViewStateReducersContext","useContextRef"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){return b("useContextRef")(a,b("StoriesCreateViewStateReducersContext"))}}),null);
__d("StoriesCreateConstants",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a={DEFAULT:{BODY:g._("Are you sure you want to discard this? Your story will not be saved."),CANCEL:g._("Continue"),CONFIRM:g._("Discard"),TITLE:g._("Discard Story?")},PHOTO:{BODY:g._("Are you sure you want to discard this photo? Your photo will not be saved."),TITLE:g._("Discard Photo?")}};f.LEAVE_TEXT=a;b={SELECTION_TILE_HEIGHT:330,SELECTION_TILE_WIDTH:220,SPACE_BETWEEN_SELECTOR:20};f.NULL_STATE_DIMENSIONS=b;c={FOOTER_HEIGHT:52,HEADER_HEIGHT:16};f.PHOTO_PREVIEW_DIMENSIONS=c;d={COMET_PUSH_VIEW_HEIGHT:28,COMET_TOP_BAR_HEIGHT:60,CONTAINER_HORIZONTAL_PADDING:24*2,CONTAINER_MAX_WIDTH:940,CONTAINER_VERTICAL_PADDING:32*2,CONTENT_HEADER_HEIGHT:36,CONTENT_HORIZONTAL_PADDING:16*2,CONTENT_VERTICAL_PADDING:16*2,MAX_OVERLAY_WIDTH:472.5,SIDE_PANE_WIDTH:360};f.PREVIEW_DIMENSIONS=d;e=g._("Start typing");f.SATP_PLACEHOLDER=e;a={FOOTER_HEIGHT:12,HEADER_HEIGHT:12};f.SATP_PREVIEW_DIMENSIONS=a;b={EDITING:"editing",NONE:"none"};f.STICKER_EDITING_MODE=b;c={EDITING:"editing",NONE:"none"};f.TEXT_OVERLAY_MODE=c;d={HORIZONTAL:"horizontal",NONE:"none"};f.OVERLAY_ALIGNMENT_TYPE=d;g=26;f.VIDEO_MAX_DURATION=g;e=3;f.VIDEO_MIN_DURATION=e;a=4;f.VIDEO_MIN_DURATION_FOR_TRIM=a;b={FOOTER_HEIGHT:92};f.VIDEO_PREVIEW_DIMENSIONS=b}),null);
__d("StoriesCreateOverlayUtils",["FBStoriesCometProductionSitevarConfig","uuid"],(function(a,b,c,d,e,f){"use strict";f.textOverlayDomID=g;f.cloneOverlayNode=a;function g(a){return"a"+a}function a(a){if((a.textOverlays==null||a.textOverlays.overlays.length===0)&&(a.stickerData==null||a.stickerData.stickers.length===0))return null;var c=a.overlayRef;c=c.current;if(c==null)return null;a=((a=a.textOverlays)==null?void 0:a.overlays.map(function(a){return g(a.id)}))||[];var d=c.cloneNode(!0);c=c.getBoundingClientRect();d.style.width=c.width+"px";d.style.height=c.height+"px";d.style.position="absolute";d.style.top="-16000px";d.style.zIndex="-10000";var e=b("FBStoriesCometProductionSitevarConfig").fontOffsets;c=a.map(function(a){return d.querySelector("#"+a)}).filter(Boolean);c.forEach(function(a){a.id=g(b("uuid")());var c=a.style.fontFamily.replace(/\"/g,"");c=e[c];if(c==null)return;var d=a.style.transform,f=/translateX\(calc\(([^\)]+)\)\) /;f=d.match(f);var h=/translateY\(calc\(([^\)]+)\)\) /;h=d.match(h);var i=/rotate\((.+)deg\)/;i=d.match(i);i=90+(i!=null&&i.length>=2?parseFloat(i[1]):0);d=d;if(f!=null&&f.length>=2){f=f[1];var j=c*Math.cos(i*Math.PI/180);d=d.replace(f,f+" + "+j+"em")}if(h!=null&&h.length>=2){f=h[1];j=c*Math.sin(i*Math.PI/180);d=d.replace(f,f+" + "+j+"em")}a.style.transform=d});return d}}),null);